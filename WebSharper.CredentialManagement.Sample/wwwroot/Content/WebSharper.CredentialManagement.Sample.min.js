import { Start as fR } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fS, MarkResizable as fT, SetOptional as fU, Force as fV, GetOptional as fW, CreateFuncWithArgs as fX, DeleteEmptyFields as fY, Create as fZ, OnLoad as f0 } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(f1){ return"Dispose"in f1;}
function b(){ const f1=null;P(M(() => N(l(c()), () => O(null))), null);const f2=new u("New_1");const f3=(f2.h.push(new u0031("username", w.Lens(e(), (f_) => f_, (f_, f$) => f$))),f2);const f4=(f3.h.push(new u0031("password", w.Lens(d(), (f_) => f_, (f_, f$) => f$))),f3);const f5=(f4.h.push(new bG("forminit", () => { const f_=null;P(M(() => { globalThis.document.getElementById("loginForm").addEventListener("submit", (f$) => { const ga=null;return P(M(() => N(l(f(f$)), () => O(null))), null);});return Q();}), null);})),f4);const f6=bf(f5.k, f5.h, [["username", 0, null], ["password", 0, null]]);const f7=new p(f6[1], L(f6[0]));let f8=(f5.i=f7,f7);const f9=f8.Doc;bg("");by.RunById("main", f9);}
function c(){ const f1=null;return new Promise((f2) => { f2(new Promise((f3) => { let f4;const f5=(f4={},f4.password=true,f4.mediation="optional",f4);let f6=g().get(f5).then((f7) =>!(f7==null)?(console.log("Retrieved credentials:", f7),!(f7.id==null)&&!(f7.password==null)?(console.log("Credential id: "+String(f7.id)),console.log("Credential Password: "+String(f7.password)),e().Set(f7.id),d().Set(f7.password),Promise.resolve(null)):(console.log("Credential Id is undefined."),console.log("Credential Password is undefined."),Promise.resolve(null))):(console.log("No stored credentials found."),Promise.resolve(null)));f3(f6);})["catch"]((f3) => { console.error("Failed to retrieve credentials: "+String(m(f3).message));return Promise.resolve(null);}));});}
function d(){ return bd.password;}
function e(){ return bd.username;}
function f(f1){ const f2=null;return new Promise((f3) => { f1.preventDefault();const f4=e().Get();const f5=d().Get();let f6=!(b5(f4)||b5(f5))?h(f4, f5).then(() => { alert("Logged in successfully!");return Promise.resolve(null);}):(alert("Please fill in both username and password."),Promise.resolve(null));f3(f6);});}
function g(){ return bd.credentialsContainer;}
function h(f1, f2){ const f3=null;return new Promise((f4) => { let f5;console.log("Attempting to save credentials for username: "+String(f1));const f6=new globalThis.PasswordCredential((f5={},f5.id=f1,f5.password=f2,f5.name=f1,f5));let f7=new Promise((f8) => { f8((console.log("Before storing credential:", f6),n(l(g().store(f6))).then(() => { console.log("Credentials stored successfully!");return Promise.resolve(null);})));})["catch"]((f8) => { console.error("Failed to save credentials: "+String(m(f8).message));return Promise.resolve(null);});f4(f7);});}
function i(f1){ throw new Error(f1);}
function j(f1){ return[f1.K, f1.V];}
function k(f1, f2){ const f3=1+f2-f1;return f3<=0?[]:cn(f3, (f4) => f4+f1);}
function l(f1){ return S((f2, f3) => { f1.then(f2, (f4) => f3(m(f4)));});}
function m(f1){ return f1 instanceof Error?f1:new bD(f1);}
function n(f1){ return new Promise((f2, f3) => { X(f1, f2, (f4) => { f3(f4);}, (f4) => { f3(f4);}, null);});}
let o=fS((f1) => class f2 { static { o=f1(this);} Equals(f3){ return this===f3;} GetHashCode(){ return -1;} });
let p=fS((f1) => class f2 extends o { static { p=f1(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(f3, f4){ super();this.doc=f4;this.allVars=f3.$==0?f3.$0:i("Should not happen");this.anchorRoot=null;} });
function q(f1, f2){ s(f1, f2);return f1[f2];}
function r(f1, f2, f3){ s(f1, f2);f1[f2]=f3;}
function s(f1, f2){ if(f2<0||f2>=f1.length)i("Index was outside the bounds of the array.");}
function t(f1){ return f1.dims===2?f1.length*f1.length:f1.length;}
let u=fS((f1) => class f2 extends o { static { u=f1(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(f3){ if(f3=="New_1"){ let f4;super();this.i=null;this.k=(f4=be(),String(f4));this.h=fT([]);fU(this, "s", null);} } });
let v=fS((f1) => class f2 extends o { static { v=f1(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(f3, f4){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ey("");} });
let w=fS((f1) => class f2 extends o { static { w=f1(this);} static Lens(f3, f4, f5){ const f6=$();const f7=u0032(f4, f3.View);return new class extends Z { constructor(){ super();} Get(){ return f4(f3.Get());} Set(f8){ return f3.Update((f9) => f5(f9, f8));} SetFinal(f8){ return this.Set(f8);} Update(f8){ return f3.Update((f9) => f5(f9, f8(f4(f9))));} UpdateMaybe(f8){ return f3.UpdateMaybe((f9) => { const f_=f8(f4(f9));return f_==null?null:z(f5(f9, f_.$0));});} get View(){ return f7;} get Id(){ return f6;} }();} static Create_1(f3){ return new bH(false, {s:cV(f3, [])}, f3);} static { } });
function x(f1){ const f2={};const f3=c2(f1);try { while(f3.MoveNext()){ const f4=f3.Current;f2[f4[0]]=f4[1];} } finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} return f2;}
function y(f1){ let f2=[];let f3;for(var f4 in f1)f2.push(f1[f4]);return f2;}
function z(f1){ return{$:1, $0:f1};}
function A(f1, f2){ if(f1===f2)return true;else { const f3=typeof f1;if(f3=="object"){ if(f1===null||f1===void 0||f2===null||f2===void 0||!A(typeof f2, "object"))return false;else if("Equals"in f1)return f1.Equals(f2);else if("Equals"in f2)return false;else if(f1 instanceof Array&&f2 instanceof Array)return B(f1, f2);else if(f1 instanceof Date&&f2 instanceof Date)return C(f1, f2);else { const f4=[true];let f5;for(var f7 in f1)if(((f8) => { f4[0]=!f1.hasOwnProperty(f8)||f2.hasOwnProperty(f8)&&A(f1[f8], f2[f8]);return!f4[0];})(f7))break;if(f4[0]){ let f6;for(var f8 in f2)if(((f9) => { f4[0]=!f2.hasOwnProperty(f9)||f1.hasOwnProperty(f9);return!f4[0];})(f8))break;} return f4[0];} } else return f3=="function"&&("$Func"in f1?f1.$Func===f2.$Func&&f1.$Target===f2.$Target:"$Invokes"in f1&&"$Invokes"in f2&&B(f1.$Invokes, f2.$Invokes));} }
function B(f1, f2){ let f3;let f4;if(t(f1)===t(f2)){ f3=true;f4=0;while(f3&&f4<t(f1)){!A(q(f1, f4), q(f2, f4))?f3=false:void 0;f4=f4+1;} return f3;} else return false;}
function C(f1, f2){ return f1.getTime()===f2.getTime();}
function D(f1){ const f2=typeof f1;return f2=="function"?0:f2=="boolean"?f1?1:0:f2=="number"?f1:f2=="string"?E(f1):f2=="object"?f1==null?0:f1 instanceof Array?F(f1):G(f1):0;}
function E(f1){ let f2;if(f1===null)return 0;else { f2=5381;for(let f3=0, f4=f1.length-1;f3<=f4;f3++)f2=H(f2, f1[f3].charCodeAt());return f2;} }
function F(f1){ let f2=-34948909;for(let f3=0, f4=t(f1)-1;f3<=f4;f3++)f2=H(f2, D(q(f1, f3)));return f2;}
function G(f1){ if("GetHashCode"in f1)return f1.GetHashCode();else { const f2=[0];let f3;for(var f4 in f1)if(((f5) => { f2[0]=H(H(f2[0], E(f5)), D(f1[f5]));return false;})(f4))break;return f2[0];} }
function H(f1, f2){ return(f1<<5)+f1+f2;}
function I(f1, f2){ if(f1===f2)return 0;else { const f3=typeof f1;switch(f3=="function"?1:f3=="boolean"?2:f3=="number"?2:f3=="string"?2:f3=="object"?3:0){ case 0:return typeof f2=="undefined"?0:-1;case 1:return i("Cannot compare function values.");case 2:return f1<f2?-1:1;case 3:if(f1===null)return -1;else if(f2===null)return 1;else if("CompareTo"in f1)return f1.CompareTo(f2);else if("CompareTo0"in f1)return f1.CompareTo0(f2);else if(f1 instanceof Array&&f2 instanceof Array)return J(f1, f2);else if(f1 instanceof Date&&f2 instanceof Date)return K(f1, f2);else { const f4=[0];let f5;for(var f7 in f1)if(((f8) =>!f1.hasOwnProperty(f8)?false:!f2.hasOwnProperty(f8)?(f4[0]=1,true):(f4[0]=I(f1[f8], f2[f8]),f4[0]!==0))(f7))break;if(f4[0]===0){ let f6;for(var f8 in f2)if(((f9) =>!f2.hasOwnProperty(f9)?false:!f1.hasOwnProperty(f9)&&(f4[0]=-1,true))(f8))break;} return f4[0];} break;} } }
function J(f1, f2){ let f3;let f4;if(t(f1)<t(f2))return -1;else if(t(f1)>t(f2))return 1;else { f3=0;f4=0;while(f3===0&&f4<t(f1)){ f3=I(q(f1, f4), q(f2, f4));f4=f4+1;} return f3;} }
function K(f1, f2){ return I(f1.getTime(), f2.getTime());}
function L(f1){ bg("index");return f1?bh("index", z("main"), f1):void 0;}
function M(f1){ return(f2) => { try {(f1())(f2);} catch(f3){ f2.k(bA(f3));} };}
function N(f1, f2){ return R((f3) => { f1(bz((f4) => { if(f4.$==0){ const f5=f4.$0;W().Fork(() => { try {(f2(f5))(f3);} catch(f6){ f3.k(bA(f6));} });} else W().Fork(() => { f3.k(f4);});}, f3.ct));});}
function O(f1){ return(f2) => { f2.k(bB(f1));};}
function P(f1, f2){ const f3=(T())[0];const f4=f2==null?f3:f2.$0;if(!f4.c)f1(bz((f5) => { if(f5.$==1)U(f5.$0);}, f4));}
function Q(){ return cc.Zero;}
function R(f1){ return(f2) => { if(f2.ct.c)V(f2);else f1(f2);};}
function S(f1){ return(f2) => { const f3=[false];const f4=(f5) => { if(f3[0])i("A continuation provided by Async.FromContinuations was invoked multiple times");else { f3[0]=true;W().Fork(f5);} };f1((f5) => { f4(() => { f2.k(bB(f5));});}, (f5) => { f4(() => { f2.k(bA(f5));});}, (f5) => { f4(() => { f2.k(bC(f5));});});};}
function T(){ return cc.defCTS;}
function U(f1){ console.log("WebSharper: Uncaught asynchronous exception", f1);}
function V(f1){ f1.k(bC(new dq("New", f1.ct)));}
function W(){ return cc.scheduler;}
function X(f1, f2, f3, f4, f5){ const f6=(T())[0];const f7=f5==null?f6:f5.$0;if(!f7.c)f1(bz((f8) => { if(f8.$==1)f3(f8.$0);else if(f8.$==2)f4(f8.$0);else f2(f8.$0);}, f7));}
function Y(f1, f2){ const f3=(T())[0];const f4=f2==null?f3:f2.$0;W().Fork(() => { if(!f4.c)f1(bz((f5) => { if(f5.$==1)U(f5.$0);}, f4));});}
let Z=fS((f1) => class f2 extends o { static { Z=f1(this);} });
let u0030=fS((f1) => class f2 extends o { static { u0030=f1(this);} });
let u0031=fS((f1) => { fV(v);return class f2 extends v { static { u0031=f1(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(this.fillWith.View);} AddAttribute(f3, f4){(f3(f4))(en(this.fillWith));} get AsChoiceView(){ return ez(u0032(String, this.fillWith.View));} constructor(f3, f4){ super();this.name=f3;this.fillWith=f4;} };});
function u0032(f1, f2){ return u0033(() => bI(f1, f2()));}
function u0033(f1){ const f2={c:null, o:f1};return() => { let f3=f2.c;if(f3===null){ f3=f2.o();f2.c=f3;const f4=f3.s;if(f4!=null&&f4.$==0)f2.o=null;else bJ(f3, () => { f2.c=null;});return f3;} else return f3;};}
function u0034(f1){ const f2={s:cW(f1)};return() => f2;}
function u0035(f1, f2){ function f3(){ bP(f2(), f1, () => { W().Fork(f3);});} W().Fork(f3);}
function u0036(f1, f2, f3, f4){ return u0033(() => bQ(f1, f2(), f3(), f4()));}
function u0037(f1){ return u0033(() => bR(ci((f2) => f2(), f1)));}
function u0038(f1, f2, f3){ return u0033(() => bS(f1, f2(), f3()));}
function u0039(f1, f2){ return u0033(() => bT(f1(), f2()));}
function $(){ ba(bb()+1);return"uid"+String(bb());}
function ba(f1){ cZ.counter=f1;}
function bb(){ return cZ.counter;}
function bc(){ ba(bb()+1);return bb();}
let bd=fS((f1) => class f2 { static { bd=f1(this);} static credentialsContainer;static password;static username;static { this.username=w.Create_1("");this.password=w.Create_1("");this.credentialsContainer=globalThis.navigator.credentials;} });
function be(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (f1) => { const f2=Math.random()*16|0;const f3=f1=="x"?f2:f2&3|8;return f3.toString(16);});}
function bf(f1, f2, f3){ const f4=new bF("New_5");const f5=new cd("New_3");const f6=c2(f2);try { while(f6.MoveNext()){ const f7=f6.Current;const f8=f7.Name;f5.SAdd(f8);f4.set_Item(f8, f7);} } finally { if(typeof f6=="object"&&a(f6))f6.Dispose();} return[ce(f2, ct((f9) => { const f_=f9[0];const f$=f9[1];const ga=f9[2];if(f5.Contains(f_))return null;else { const gb=f$===0?cI.GetOrAddHoleFor(f1, f_, () => { const gc=ga==null?null:z(ga.$0);let gd=w.Create_1(gc==null?"":gc.$0);return new u0031(f_, gd);}):f$===1?cI.GetOrAddHoleFor(f1, f_, () => { const gc=ga==null?null:z(ga.$0);let gd=w.Create_1(gc==null?0:gc.$0);return new cJ(f_, gd);}):f$===2?cI.GetOrAddHoleFor(f1, f_, () => { const gc=ga==null?null:z(ga.$0);let gd=w.Create_1(gc==null?false:gc.$0);return new cK(f_, gd);}):f$===3?cI.GetOrAddHoleFor(f1, f_, () => { const gc=ga==null?null:z(ga.$0);let gd=w.Create_1(gc==null?-8640000000000000:gc.$0);return new cL(f_, gd);}):f$===4?cI.GetOrAddHoleFor(f1, f_, () => new cM(f_, w.Create_1([]))):f$===5?cI.GetOrAddHoleFor(f1, f_, () => new cN(f_, w.Create_1(z(globalThis.document.querySelector("[ws-dom="+f_+"]"))))):f$===6?cI.GetOrAddHoleFor(f1, f_, () => { const gc=ga==null?null:z(ga.$0);let gd=w.Create_1(gc==null?[]:gc.$0);return new cO(f_, gd);}):i("Invalid value type");f4.set_Item(f_, gb);return z(gb);} }, f3)), {$:0, $0:f4}];}
function bg(f1){!bi()?(bj(true),bk(globalThis.document.body, "")):void 0;bl().set_Item(f1, bm(""));}
function bh(f1, f2, f3){ let f4;const f5=(f4=null,[bm(f1).TryGetValue(f2==null?"":f2.$0, {get:() => f4, set:(f6) => { f4=f6;}}), f4]);return f5[0]?bn(f5[1].cloneNode(true), f3):(console.warn("Local template doesn't exist", f2),by.Empty);}
function bi(){ return c7.LocalTemplatesLoaded;}
function bj(f1){ c7.LocalTemplatesLoaded=f1;}
function bk(f1, f2){ const f3=bm(f2);const f4=new bF("New_5");const f5=f1.querySelectorAll("[ws-template]");for(let gf=0, gg=f5.length-1;gf<=gg;gf++){ const f6=f5[gf];const f7=f6.getAttribute("ws-template").toLowerCase();f6.removeAttribute("ws-template");f4.set_Item(f7, bo(f6));} const f8=f1.querySelectorAll("[ws-children-template]");for(let gh=0, gi=f8.length-1;gh<=gi;gh++){ const f9=f8[gh];const f_=f9.getAttribute("ws-children-template").toLowerCase();f9.removeAttribute("ws-children-template");f4.set_Item(f_, bp(f9));} const f$=f1.querySelectorAll("template[id]");for(let gj=0, gk=f$.length-1;gj<=gk;gj++){ const ga=f$[gj];f4.set_Item(ga.getAttribute("id").toLowerCase(), bq(ga));} const gb=f1.querySelectorAll("template[name]");for(let gl=0, gm=gb.length-1;gl<=gm;gl++){ const gc=gb[gl];f4.set_Item(gc.getAttribute("name").toLowerCase(), bq(gc));} const gd=new cd("New_3");function ge(gn){ if(!f3.ContainsKey(gn)){ let go;const gp=(go=null,[f4.TryGetValue(gn, {get:() => go, set:(gq) => { go=gq;}}), go]);if(gp[0]){ gd.SAdd(gn);f4.RemoveKey(gn);br(f2, z(gn), gp[1], z(ge));} else console.warn(gd.Contains(gn)?"Encountered loop when instantiating "+gn:"Local template does not exist: "+gn);} } while(f4.count>0)ge(cf(f4.Keys));}
function bl(){ return c7.LoadedTemplates;}
function bm(f1){ let f2;const f3=(f2=null,[bl().TryGetValue(f1, {get:() => f2, set:(f5) => { f2=f5;}}), f2]);if(f3[0])return f3[1];else { const f4=new bF("New_5");bl().set_Item(f1, f4);return f4;} }
function bn(f1, f2){ let f3;const f4=bs(f1, ce(f2, bt().Values));const f5=f4[1];const f6=f4[0];const f7=f6.Els;return!A(f7, null)&&f7.length===1&&(q(f7, 0)instanceof Node&&(A(q(f7, 0).nodeType, Node.ELEMENT_NODE)&&(f3=q(f7, 0),true)))?ds.TreeNode(f6, f5):by.Mk(cQ(f6), f5);}
function bo(f1){ f1.removeAttribute("ws-template");const f2=f1.getAttribute("ws-replace");if(f2==null){ } else { f1.removeAttribute("ws-replace");const f3=f1.parentNode;if(A(f3, null)){ } else { const f4=globalThis.document.createElement(f1.tagName);f4.setAttribute("ws-replace", f2);f3.replaceChild(f4, f1);} } const f5=globalThis.document.createElement("div");f5.appendChild(f1);return f5;}
function bp(f1){ const f2=globalThis.document.createElement("div");while(f1.hasChildNodes())f2.appendChild(f1.firstChild);return f2;}
function bq(f1){ const f2=globalThis.document.createElement("div");const f3=f1.content;for(let f4=0, f5=f3.childNodes.length-1;f4<=f5;f4++)f2.appendChild(f3.childNodes[f4].cloneNode(true));return f2;}
function br(f1, f2, f3, f4){ const f5=new cd("New_3");function f6(gb, gc){ while(true)switch(gb){ case 0:if(gc!==null){ const gd=gc.nextSibling;if(A(gc.nodeType, Node.TEXT_NODE))dt(gc);else if(A(gc.nodeType, Node.ELEMENT_NODE))f8(gc);gc=gd;} else return null;break;case 1:const ge=dB(gc.nodeName, z(3), null).toLowerCase();const gf=ge.indexOf(".");const gg=gf===-1?[f1, ge]:[dB(ge, null, z(gf-1)), dB(ge, z(gf+1), null)];const gh=gg[1];const gi=gg[0];if(gi!=""&&!bl().ContainsKey(gi))return du(gh);else { if(gi==""&&f4!=null)f4.$0(gh);const gj=bl().Item(gi);if(!gj.ContainsKey(gh))return du(gh);else { const gk=gj.Item(gh);const gl=gk.cloneNode(true);const gm=new cd("New_3");const gn=new bF("New_5");const go=gc.attributes;for(let gy=0, gz=go.length-1;gy<=gz;gy++){ const gp=go.item(gy).name.toLowerCase();const gq=go.item(gy).nodeValue;let gr=gq==""?gp:gq.toLowerCase();gn.set_Item(gp, gr);if(!gm.SAdd(gp))console.warn("Hole mapped twice", gp);} for(let gA=0, gB=gc.childNodes.length-1;gA<=gB;gA++){ const gs=gc.childNodes[gA];if(A(gs.nodeType, Node.ELEMENT_NODE))if(!gm.SAdd(gs.nodeName.toLowerCase()))console.warn("Hole filled twice", gh);} const gt=gc.childNodes.length===1&&A(gc.firstChild.nodeType, Node.TEXT_NODE);if(gt){ const gu=dv(gl, gc.firstChild.textContent, gh);const gv=((gC) =>(gD) => gC.SAdd(gD))(gm);let gw=((gC) =>(gD) => { if(gD!=null)gC(gD.$0);})((gC) => { gv(gC);});gw(gu);} dw(gl, gm);if(!gt){ for(let gC=0, gD=gc.childNodes.length-1;gC<=gD;gC++){ const gx=gc.childNodes[gC];if(A(gx.nodeType, Node.ELEMENT_NODE))if(gx.hasAttributes())dx(gl, gx);else f7(gl, gx);} } dy(gl, gn);dz(gl, gc.parentNode, gc);gc.parentNode.removeChild(gc);return;} } break;} } function f7(gb, gc){ const gd=gc.nodeName.toLowerCase();const ge=(gi, gj) => { if(gd=="title"&&gc.hasChildNodes()){ const gk=dC(gc.textContent);gc.removeChild(gc.firstChild);while(gk.hasChildNodes())gc.appendChild(gk.firstChild);} f8(gc);return dz(gc, gi, gj);};bu(gb, "[ws-attr-holes]", (gi) => { const gj=b7(gi.getAttribute("ws-attr-holes"), [" "], 1);for(let gn=0, go=gj.length-1;gn<=go;gn++){ const gk=q(gj, gn);let gl=new RegExp("\\${"+gd+"}", "ig");let gm=gi.getAttribute(gk).replace(gl, gc.textContent);gi.setAttribute(gk, gm);} });const gf=gb.querySelector("[ws-hole="+gd+"]");if(A(gf, null)){ const gg=gb.querySelector("[ws-replace="+gd+"]");if(A(gg, null)){ const gh=gb.querySelector("slot[name="+gd+"]");return gb.tagName.toLowerCase()=="template"?(ge(gh.parentNode, gh),void gh.parentNode.removeChild(gh)):null;} else { ge(gg.parentNode, gg);gg.parentNode.removeChild(gg);return;} } else { while(gf.hasChildNodes())gf.removeChild(gf.lastChild);gf.removeAttribute("ws-hole");return ge(gf, null);} } function f8(gb){ if(!gb.hasAttribute("ws-preserve"))if(b8(gb.nodeName.toLowerCase(), "ws-"))f_(gb);else { dA(gb);f9(gb.firstChild);} } function f9(gb){ return f6(0, gb);} function f_(gb){ return f6(1, gb);} function f$(gb){ while(true){ const gc=gb.querySelector("[ws-template]");if(A(gc, null)){ const gd=gb.querySelector("[ws-children-template]");if(A(gd, null)){ const ge=gb.querySelectorAll("template[id]");for(let gk=1, gl=ge.length-1;gk<=gl;gk++){ const gf=ge[gk];if(f5.Contains(gf)){ } else { br(f1, z(gf.getAttribute("id")), gf, null);f5.SAdd(gf);} } const gg=gb.querySelectorAll("template[name]");for(let gm=1, gn=gg.length-1;gm<=gn;gm++){ const gh=gg[gm];if(f5.Contains(gh)){ } else { br(f1, z(gh.getAttribute("name")), gh, null);f5.SAdd(gh);} } return null;} else { const gi=gd.getAttribute("ws-children-template");gd.removeAttribute("ws-children-template");br(f1, z(gi), gd, null);gb=gb;} } else { const gj=gc.getAttribute("ws-template");(bv(f1, z(gj), gc))(null);gb=gb;} } } const ga=(f2==null?"":f2.$0).toLowerCase();bm(f1).set_Item(ga, f3);if(f3.hasChildNodes()){ f$(f3);f9(f3.firstChild);} }
function bs(f1, f2){ let f3;const f4=[];const f5=[];const f6=[];const f7=[];const f8=new bF("New_5");const f9=c2(f2);try { while(f9.MoveNext()){ const f_=f9.Current;f8.set_Item(f_.Name, f_);} } finally { if(typeof f9=="object"&&a(f9))f9.Dispose();} let f$=dD(f1);const ga=(gj, gk) => { const gl=d1(gj, gk);f5.push(d2(gl));f6.push([gj, gl]);const gm=fW(gl.OnAfterRender);if(gm==null)return null;else { const gn=gm.$0;f7.push(() => { gn(gj);});return;} };const gb=(gj) => { let gk;const gl=(gk=null,[f8.TryGetValue(gj, {get:() => gk, set:(go) => { gk=go;}}), gk]);if(gl[0]){ const gm=gl[1];if(gm instanceof eg)return z(gm.Value);else if(gm instanceof eh)return z(by.TextNode(gm.Value));else { const gn=gm.ForTextView();return gn==null?null:z(by.TextView(gn.$0));} } else return null;};bu(f1, "[ws-hole]", (gj) => { const gk=gj.getAttribute("ws-hole");gj.removeAttribute("ws-hole");while(gj.hasChildNodes())gj.removeChild(gj.lastChild);const gl=gb(gk);if(gl!=null&&gl.$==1){ const gm=gl.$0;c8(gj, gm.docNode);f4.push(dr.New(d3(gj), gm.docNode, null, gj, bc(), null));f5.push(gm.updates);} });bu(f1, "[ws-replace]", (gj) => { const gk=gb(gj.getAttribute("ws-replace"));if(gk!=null&&gk.$==1){ const gl=gk.$0;const gm=gj.parentNode;const gn=globalThis.document.createTextNode("");gm.replaceChild(gn, gj);const go=db(gn, gl.docNode);f$=dD(f1);const gp=cu((gq) => gj===gq, f$);if(gp==null){ } else r(f$, gp.$0, gl.docNode);f4.push(dr.New(d3(gm), gl.docNode, z([go, gn]), gm, bc(), null));f5.push(gl.updates);} });let gc=false;bu(f1, "slot", (gj) => { const gk=gj.getAttribute("name");const gl=gk==""||gk==null?"default":gk.toLowerCase();if(gc&&gl=="default"||!A(f1.parentElement, null)){ } else { while(gj.hasChildNodes())gj.removeChild(gj.lastChild);if(gl=="default")gc=true;const gm=gb(gl);if(gm!=null&&gm.$==1){ const gn=gm.$0;c8(gj, gn.docNode);f4.push(dr.New(d3(gj), gn.docNode, null, gj, bc(), null));f5.push(gn.updates);} } });bu(f1, "[ws-attr]", (gj) => { let gk;const gl=gj.getAttribute("ws-attr");gj.removeAttribute("ws-attr");const gm=(gk=null,[f8.TryGetValue(gl, {get:() => gk, set:(go) => { gk=go;}}), gk]);if(gm[0]){ const gn=gm[1];if(gn instanceof ei)ga(gj, gn.Value);else console.warn("Attribute hole filled with non-attribute data", gl);} });bu(f1, "[ws-on]", (gj) => { ga(gj, ew.Concat(ct((gk) => { let gl;const gm=b7(gk, [":"], 1);const gn=(gl=null,[f8.TryGetValue(q(gm, 1), {get:() => gl, set:(gp) => { gl=gp;}}), gl]);if(gn[0]){ const go=gn[1];return go instanceof ej?z(ek(q(gm, 0), go.Value)):go instanceof ev?z(ew.Handler(q(gm, 0), go.Value)):(console.warn("Event hole on"+q(gm, 0)+" filled with non-event data", q(gm, 1)),null);} else return null;}, b7(gj.getAttribute("ws-on"), [" "], 1))));gj.removeAttribute("ws-on");});bu(f1, "[ws-onafterrender]", (gj) => { let gk;const gl=gj.getAttribute("ws-onafterrender");const gm=(gk=null,[f8.TryGetValue(gl, {get:() => gk, set:(go) => { gk=go;}}), gk]);if(gm[0]){ const gn=gm[1];if(gn instanceof ex){ gj.removeAttribute("ws-onafterrender");ga(gj, el(gn.Value));} else if(gn instanceof bG){ gj.removeAttribute("ws-onafterrender");ga(gj, el(gn.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gl);} });bu(f1, "[ws-var]", (gj) => { let gk;const gl=gj.getAttribute("ws-var");gj.removeAttribute("ws-var");const gm=(gk=null,[f8.TryGetValue(gl, {get:() => gk, set:(gn) => { gk=gn;}}), gk]);if(gm[0])gm[1].AddAttribute((gn) =>(go) => ga(gn, go), gj);});const gd=() => { bw("[ws-dom]", (gj) => { let gk;let gl;let gm;const gn=(gk=null,[f8.TryGetValue(gj.getAttribute("ws-dom").toLowerCase(), {get:() => gk, set:(gr) => { gk=gr;}}), gk]);if(gn[0]){ const go=gn[1];if(go instanceof cN){ const gp=go.Value;gj.removeAttribute("ws-dom");gl=gj;const gq=new MutationObserver((gr, gs) => { cy((gt) => { gt.removedNodes.forEach(fX((gu) => gu[0]===gl&&gt.addedNodes.length!==1?(gp.SetFinal(null),gs.disconnect()):null), null);}, gr);});if(gj.parentElement!==null)gq.observe(gj.parentElement, (gm={},gm.childList=true,gm));gp.Set(z(gj));u0035((gr) => { if(gr!=null&&gr.$==1){ const gs=gr.$0;if(gl===gs){ } else { gl.replaceWith(gs);gl=gs;} } else { gl.remove();gq.disconnect();} }, gp.View);} } });};bu(f1, "[ws-attr-holes]", (gj) => { const gk=new RegExp(bx(), "g");const gl=b7(gj.getAttribute("ws-attr-holes"), [" "], 1);gj.removeAttribute("ws-attr-holes");for(let gm=0, gn=gl.length-1;gm<=gn;gm++)((() => { let go;const gp=q(gl, gm);const gq=gj.getAttribute(gp);let gr=null;let gs=0;const gt=[];while(gr=gk.exec(gq),gr!==null){ const gu=dB(gq, z(gs), z(gk.lastIndex-q(gr, 0).length-1));gs=gk.lastIndex;gt.push([gu, q(gr, 1)]);} const gv=dB(gq, z(gs), null);gk.lastIndex=0;const gw=cz((gB, gC) =>(((gD) => { const gE=gD[0];const gF=gD[1];return(gG) => { let gH;const gI=gG[0];const gJ=gG[1];const gK=(gH=null,[f8.TryGetValue(gF, {get:() => gH, set:(gM) => { gH=gM;}}), gH]);const gL=gK[0]?gK[1].AsChoiceView:ey("");return gL.$==1?[gE, eA.Cons(gI==""?gL.$0:u0032((gM) => gM+gI, gL.$0), gJ)]:[gE+gL.$0+gI, gJ];};})(gB))(gC), gt, [gv, eA.Empty]);if(gw[1].$==1){ if(gw[1].$1.$==1){ if(gw[1].$1.$1.$==1){ if(gw[1].$1.$1.$1.$==0){ const gx=gw[0];go=em(gp, u0036((gB, gC, gD) => gx+gB+gC+gD, gw[1].$0, gw[1].$1.$0, gw[1].$1.$1.$0));} else { const gy=gw[0];go=em(gp, u0032((gB) => gy+b6("", gB), u0037(gw[1])));} } else { const gz=gw[0];go=em(gp, u0038((gB, gC) => gz+gB+gC, gw[1].$0, gw[1].$1.$0));} } else if(gw[0]=="")go=em(gp, gw[1].$0);else { const gA=gw[0];go=em(gp, u0032((gB) => gA+gB, gw[1].$0));} } else go=ew.Create(gp, gw[0]);return ga(gj, go);})());});let ge=f$;const gf=f7.length==0?z(() => { gd();}):z((gj) => { gd();cy((gk) => { gk(gj);}, f7);});const gg=!A(f$, null)&&f$.length===1&&(q(f$, 0)instanceof Node&&(q(f$, 0)instanceof Element&&(f3=q(f$, 0),true)))?z(f3):null;let gh={Els:ge, Dirty:true, Holes:f4, Attrs:f6, Render:gf?gf.$0:void 0, El:gg?gg.$0:void 0};let gi=fY(gh, ["Render", "El"]);return[gi, eB(u0034(), u0039, f5)];}
function bt(){ return c7.GlobalHoles;}
function bu(f1, f2, f3){ dJ(f1, f2, (f4) => { if(f4.closest("[ws-preserve]")==null)f3(f4);});}
function bv(f1, f2, f3){ const f4=bo(f3);return(f5) => { br(f1, f2, f4, f5);};}
function bw(f1, f2){ dK(f1, (f3) => { if(f3.closest("[ws-preserve]")==null)f2(f3);});}
function bx(){ return c7.TextHoleRE;}
let by=fS((f1) => class f2 extends o { static { by=f1(this);} docNode;updates;static RunById(f3, f4){ const f5=globalThis.document.getElementById(f3);if(A(f5, null))i("invalid id: "+f3);else by.Run(f5, f4);} static Run(f3, f4){ c8(f3, f4.docNode);by.RunInPlace(false, f3, f4);} static get Empty(){ return by.Mk(null, u0034());} static RunInPlace(f3, f4, f5){ const f6=c_(f4, f5.docNode);u0035(dR()||dY()?dZ(c$(f3, f6, f5.docNode)):() => { da(f3, f6, f5.docNode);}, f5.updates);} static Mk(f3, f4){ return new f2(f3, f4);} static TextNode(f3){ return by.Mk(cR(globalThis.document.createTextNode(f3)), u0034());} static TextView(f3){ const f4=dj();return by.Mk(cS(f4), u0032((f5) => { dk(f4, f5);}, f3));} constructor(f3, f4){ super();this.docNode=f3;this.updates=f4;} });
function bz(f1, f2){ return{k:f1, ct:f2};}
function bA(f1){ return{$:1, $0:f1};}
function bB(f1){ return{$:0, $0:f1};}
function bC(f1){ return{$:2, $0:f1};}
let bD=fS((f1) => { fV(Error);return class f2 extends Error { static { bD=f1(this);} reason;constructor(f3){ super("Promise rejected");this.reason=f3;} };});
function bE(f1, f2){ return{c:f1, r:f2};}
let bF=fS((f1) => class f2 extends o { static { bF=f1(this);} equals;hash;count;data;set_Item(f3, f4){ this.set(f3, f4);} set(f3, f4){ const f5=this.hash(f3);const f6=this.data[f5];if(f6==null){ this.count=this.count+1;this.data[f5]=new Array({K:f3, V:f4});} else { const f7=cu((f8) => this.equals.apply(null, [(j(f8))[0], f3]), f6);if(f7==null){ this.count=this.count+1;f6.push({K:f3, V:f4});} else f6[f7.$0]={K:f3, V:f4};} } TryGetValue(f3, f4){ const f5=this.data[this.hash(f3)];if(f5==null)return false;else { const f6=cv((f7) => { const f8=j(f7);return this.equals.apply(null, [f8[0], f3])?z(f8[1]):null;}, f5);return f6!=null&&f6.$==1&&(f4.set(f6.$0),true);} } ContainsKey(f3){ const f4=this.data[this.hash(f3)];return f4==null?false:cw((f5) => this.equals.apply(null, [(j(f5))[0], f3]), f4);} RemoveKey(f3){ return this.remove(f3);} get Keys(){ return new dQ(this);} GetEnumerator(){ return c5(cx(y(this.data)));} get Values(){ return new eF(this);} remove(f3){ const f4=this.hash(f3);const f5=this.data[f4];if(f5==null)return false;else { const f6=cB((f7) =>!this.equals.apply(null, [(j(f7))[0], f3]), f5);return t(f6)<f5.length&&(this.count=this.count-1,this.data[f4]=f6,true);} } Item(f3){ return this.get(f3);} get(f3){ const f4=this.data[this.hash(f3)];return f4==null?c1():cD((f5) => { const f6=j(f5);return this.equals.apply(null, [f6[0], f3])?z(f6[1]):null;}, f4);} static New_5(){ return new this("New_5");} static New_6(f3, f4, f5){ return new this("New_6", f3, f4, f5);} constructor(f3, f4, f5, f6){ if(f3=="New_5"){ f3="New_6";f4=[];f5=A;f6=D;} if(f3=="New_6"){ const f7=f4;const f8=f5;const f9=f6;super();this.equals=f8;this.hash=f9;this.count=0;this.data=[];const f_=c2(f7);try { while(f_.MoveNext()){ const f$=f_.Current;this.set(f$.K, f$.V);} } finally { if(typeof f_=="object"&&a(f_))f_.Dispose();} } } });
let bG=fS((f1) => { fV(v);return class f2 extends v { static { bG=f1(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f3, f4){ super();this.name=f3;this.fillWith=f4;} };});
let bH=fS((f1) => { fV(Z);return class f2 extends Z { static { bH=f1(this);} isConst;current;snap;view;id;Get(){ return this.current;} Update(f3){ this.Set(f3(this.Get()));} Set(f3){ if(this.isConst)(((f4) => f4("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f4) => { console.log(f4);}));else { cY(this.snap);this.current=f3;this.snap={s:cV(f3, [])};} } UpdateMaybe(f3){ const f4=f3(this.Get());if(f4!=null&&f4.$==1)this.Set(f4.$0);} get View(){ return this.view;} SetFinal(f3){ if(this.isConst)(((f4) => f4("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f4) => { console.log(f4);}));else { cY(this.snap);this.isConst=true;this.current=f3;this.snap={s:cW(f3)};} } constructor(f3, f4, f5){ super();this.isConst=f3;this.current=f5;this.snap=f4;this.view=() => this.snap;this.id=bc();} };});
function bI(f1, f2){ const f3=f2.s;if(f3!=null&&f3.$==0)return{s:cW(f1(f3.$0))};else { const f4={s:cX([], [])};bK(f2, (f5) => { bL(f4, f2, f1(f5));}, f4);return f4;} }
function bJ(f1, f2){ const f3=f1.s;if(f3==null)f2();else f3!=null&&f3.$==2?f3.$1.push(f2):f3!=null&&f3.$==3?f3.$1.push(f2):void 0;}
function bK(f1, f2, f3){ const f4=f1.s;if(f4==null)cY(f3);else f4!=null&&f4.$==2?(bM(f4.$1, f3),f2(f4.$0)):f4!=null&&f4.$==3?(f4.$0.push(f2),bM(f4.$1, f3)):f2(f4.$0);}
function bL(f1, f2, f3){ const f4=f2.s;if(f4!=null&&f4.$==0)bN(f1, f3);else bO(f1, f3);}
function bM(f1, f2){ f1.push(f2);if(f1.length%20===0){ const f3=f1.slice(0);eY(f1);for(let f5=0, f6=t(f3)-1;f5<=f6;f5++){ const f4=q(f3, f5);if(typeof f4=="object")(((f7) => { if(f7.s)f1.push(f7);})(f4));else(((f7) => { f1.push(f7);})(f4));} } else void 0;}
function bN(f1, f2){ const f3=f1.s;if(f3!=null&&f3.$==3){ f1.s=cW(f2);const f4=f3.$0;for(let f5=0, f6=t(f4)-1;f5<=f6;f5++)(q(f4, f5))(f2);} else void 0;}
function bO(f1, f2){ const f3=f1.s;if(f3!=null&&f3.$==3){ f1.s=cV(f2, f3.$1);const f4=f3.$0;for(let f5=0, f6=t(f4)-1;f5<=f6;f5++)(q(f4, f5))(f2);} else void 0;}
function bP(f1, f2, f3){ const f4=f1.s;if(f4==null)f3();else f4!=null&&f4.$==2?(f4.$1.push(f3),f2(f4.$0)):f4!=null&&f4.$==3?(f4.$0.push(f2),f4.$1.push(f3)):f2(f4.$0);}
function bQ(f1, f2, f3, f4){ const f5=f2.s;const f6=f3.s;const f7=f4.s;if(f5!=null&&f5.$==0)return f6!=null&&f6.$==0?f7!=null&&f7.$==0?{s:cW(f1(f5.$0, f6.$0, f7.$0))}:bV(f1, f5.$0, f6.$0, f4):f7!=null&&f7.$==0?bW(f1, f5.$0, f7.$0, f3):bX(f1, f5.$0, f3, f4);else if(f6!=null&&f6.$==0)return f7!=null&&f7.$==0?bY(f1, f6.$0, f7.$0, f2):bZ(f1, f6.$0, f2, f4);else if(f7!=null&&f7.$==0)return b0(f1, f7.$0, f2, f3);else { const f8={s:cX([], [])};const f9=() => { const f_=f8.s;if(!(f_!=null&&f_.$==0||f_!=null&&f_.$==2)){ const f$=b1(f2);const ga=b1(f3);const gb=b1(f4);if(f$!=null&&f$.$==1)if(ga!=null&&ga.$==1)if(gb!=null&&gb.$==1)if(f$.$0[1]&&ga.$0[1]&&gb.$0[1])bN(f8, f1(f$.$0[0], ga.$0[0], gb.$0[0]));else bO(f8, f1(f$.$0[0], ga.$0[0], gb.$0[0]));} };bK(f2, f9, f8);bK(f3, f9, f8);bK(f4, f9, f8);return f8;} }
function bR(f1){ const f2=cC(f1);if(f2.length==0)return{s:cW([])};else { const f3={s:cX([], [])};const f4=[t(f2)-1];const f5=() => { if(f4[0]===0){ const f6=cA((f7) => { const f8=f7.s;return f8!=null&&f8.$==0?f8.$0:f8!=null&&f8.$==2?f8.$0:i("value not found by View.Sequence");}, f2);if(cF((f7) => { const f8=f7.s;return f8!=null&&f8.$==0;}, f2))bN(f3, f6);else bO(f3, f6);} else f4[0]=f4[0]-1;};cy((f6) => { bK(f6, f5, f3);}, f2);return f3;} }
function bS(f1, f2, f3){ const f4=f2.s;const f5=f3.s;if(f4!=null&&f4.$==0)return f5!=null&&f5.$==0?{s:cW(f1(f4.$0, f5.$0))}:b2(f1, f4.$0, f3);else if(f5!=null&&f5.$==0)return b3(f1, f5.$0, f2);else { const f6={s:cX([], [])};const f7=() => { const f8=f6.s;if(!(f8!=null&&f8.$==0||f8!=null&&f8.$==2)){ const f9=b1(f2);const f_=b1(f3);if(f9!=null&&f9.$==1)if(f_!=null&&f_.$==1)if(f9.$0[1]&&f_.$0[1])bN(f6, f1(f9.$0[0], f_.$0[0]));else bO(f6, f1(f9.$0[0], f_.$0[0]));} };bK(f2, f7, f6);bK(f3, f7, f6);return f6;} }
function bT(f1, f2){ const f3=f1.s;const f4=f2.s;if(f3!=null&&f3.$==0)return f4!=null&&f4.$==0?{s:cW(null)}:f2;else if(f4!=null&&f4.$==0)return f1;else { const f5={s:cX([], [])};const f6=() => { const f7=f5.s;if(!(f7!=null&&f7.$==0||f7!=null&&f7.$==2)){ const f8=b1(f1);const f9=b1(f2);if(f8!=null&&f8.$==1)if(f9!=null&&f9.$==1)if(f8.$0[1]&&f9.$0[1])bN(f5, null);else bO(f5, null);} };bK(f1, f6, f5);bK(f2, f6, f5);return f5;} }
function bU(f1){ const f2=f1.s;if(f2==null)return f1;else if(f2!=null&&f2.$==2){ const f3={s:cV(f2.$0, [])};b4(f1, f3);return f3;} else if(f2!=null&&f2.$==3){ const f4={s:cX([], [])};bK(f1, (f5) => { bL(f4, f1, f5);}, f4);return f4;} else return f1;}
function bV(f1, f2, f3, f4){ return bI((f5) => f1(f2, f3, f5), f4);}
function bW(f1, f2, f3, f4){ return bI((f5) => f1(f2, f5, f3), f4);}
function bX(f1, f2, f3, f4){ return bS((f5, f6) => f1(f2, f5, f6), f3, f4);}
function bY(f1, f2, f3, f4){ return bI((f5) => f1(f5, f2, f3), f4);}
function bZ(f1, f2, f3, f4){ return bS((f5, f6) => f1(f5, f2, f6), f3, f4);}
function b0(f1, f2, f3, f4){ return bS((f5, f6) => f1(f5, f6, f2), f3, f4);}
function b1(f1){ const f2=f1.s;return f2!=null&&f2.$==0?z([f2.$0, true]):f2!=null&&f2.$==2?z([f2.$0, false]):null;}
function b2(f1, f2, f3){ return bI((f4) => f1(f2, f4), f3);}
function b3(f1, f2, f3){ return bI((f4) => f1(f4, f2), f3);}
function b4(f1, f2){ const f3=f1.s;if(f3==null)cY(f2);else f3!=null&&f3.$==2?bM(f3.$1, f2):f3!=null&&f3.$==3?bM(f3.$1, f2):void 0;}
function b5(f1){ return f1==null||(new RegExp("^\\s*$")).test(f1);}
function b6(f1, f2){ return cC(f2).join(f1);}
function b7(f1, f2, f3){ return b9(f1, new RegExp("["+b_(f2.join(""))+"]"), f3);}
function b8(f1, f2){ return f1.substring(0, f2.length)==f2;}
function b9(f1, f2, f3){ return f3===1?cB((f4) => f4!=="", b$(f1, f2)):b$(f1, f2);}
function b_(f1){ return f1.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function b$(f1, f2){ return f1.split(f2);}
function ca(f1, f2){ return cr(f1, cb(f2));}
function cb(f1){ return f1==null?"":f1;}
let cc=fS((f1) => class f2 { static { cc=f1(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bE(false, []);this.scheduler=new cP();this.defCTS=[new c0()];this.Zero=O();this.GetCT=(f3) => { f3.k(bB(f3.ct));};} });
let cd=fS((f1) => class f2 extends o { static { cd=f1(this);} equals;hash;data;count;SAdd(f3){ return this.add(f3);} Contains(f3){ const f4=this.data[this.hash(f3)];return f4==null?false:this.arrContains(f3, f4);} add(f3){ const f4=this.hash(f3);const f5=this.data[f4];return f5==null?(this.data[f4]=[f3],this.count=this.count+1,true):this.arrContains(f3, f5)?false:(f5.push(f3),this.count=this.count+1,true);} arrContains(f3, f4){ let f5=true;let f6=0;const f7=f4.length;while(f5&&f6<f7)if(this.equals.apply(null, [f4[f6], f3]))f5=false;else f6=f6+1;return!f5;} GetEnumerator(){ return c2(eX(this.data));} ExceptWith(f3){ const f4=c2(f3);try { while(f4.MoveNext())this.Remove(f4.Current);} finally { if(typeof f4=="object"&&a(f4))f4.Dispose();} } get Count(){ return this.count;} IntersectWith(f3){ const f4=new cd("New_4", f3, this.equals, this.hash);const f5=eX(this.data);for(let f7=0, f8=f5.length-1;f7<=f8;f7++){ const f6=f5[f7];if(!f4.Contains(f6))this.Remove(f6);} } Remove(f3){ const f4=this.data[this.hash(f3)];return f4==null?false:this.arrRemove(f3, f4)&&(this.count=this.count-1,true);} CopyTo(f3, f4){ const f5=eX(this.data);for(let f6=0, f7=f5.length-1;f6<=f7;f6++)r(f3, f6+f4, f5[f6]);} arrRemove(f3, f4){ let f5=true;let f6=0;const f7=f4.length;while(f5&&f6<f7)if(this.equals.apply(null, [f4[f6], f3])){ f4.splice(f6, 1);f5=false;} else f6=f6+1;return!f5;} static New_3(){ return new this("New_3");} static New_4(f3, f4, f5){ return new this("New_4", f3, f4, f5);} static New_2(f3){ return new this("New_2", f3);} constructor(f3, f4, f5, f6){ if(f3=="New_3"){ f3="New_4";f4=[];f5=A;f6=D;} let f7;if(f3=="New_2"){ f7=f4;f3="New_4";f4=f7;f5=A;f6=D;} if(f3=="New_4"){ const f8=f4;const f9=f5;const f_=f6;super();this.equals=f9;this.hash=f_;this.data=[];this.count=0;const f$=c2(f8);try { while(f$.MoveNext())this.add(f$.Current);} finally { if(typeof f$=="object"&&a(f$))f$.Dispose();} } } });
function ce(f1, f2){ return{GetEnumerator:() => { const f3=c2(f1);const f4=[true];return new c6(f3, null, (f5) => { if(f5.s.MoveNext()){ f5.c=f5.s.Current;return true;} else { const f6=f5.s;if(!A(f6, null))f6.Dispose();f5.s=null;return f4[0]&&(f4[0]=false,f5.s=c2(f2),f5.s.MoveNext()?(f5.c=f5.s.Current,true):(f5.s.Dispose(),f5.s=null,false));} }, (f5) => { const f6=f5.s;if(!A(f6, null))f6.Dispose();});}};}
function cf(f1){ const f2=c2(f1);try { return f2.MoveNext()?f2.Current:dN();} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} }
function cg(f1, f2, f3){ let f4=f2;const f5=c2(f3);try { while(f5.MoveNext())f4=f1(f4, f5.Current);return f4;} finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} }
function ch(f1, f2){ const f3=c2(f2);try { while(f3.MoveNext())f1(f3.Current);} finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} }
function ci(f1, f2){ return{GetEnumerator:() => { const f3=c2(f2);return new c6(null, null, (f4) => f3.MoveNext()&&(f4.c=f1(f3.Current),true), () => { f3.Dispose();});}};}
function cj(f1){ return{GetEnumerator:() => c2(f1())};}
function ck(f1, f2){ return cm(ci(f1, f2));}
function cl(f1){ const f2=c2(f1);try { if(!f2.MoveNext())co();let f3=f2.Current;while(f2.MoveNext()){ const f4=f2.Current;if(I(f4, f3)===1)f3=f4;} return f3;} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} }
function cm(f1){ return{GetEnumerator:() => { const f2=c2(f1);function f3(f4){ while(true){ const f5=f4.s;if(A(f5, null)){ if(f2.MoveNext()){ f4.s=c2(f2.Current);f4=f4;} else { f2.Dispose();return false;} } else if(f5.MoveNext()){ f4.c=f5.Current;return true;} else { f4.Dispose();f4.s=null;f4=f4;} } } return new c6(null, null, f3, (f4) => { const f5=f4.s;if(!A(f5, null))f5.Dispose();if(!A(f2, null))f2.Dispose();});}};}
function cn(f1, f2){ return cp(f1, cq(f2));}
function co(){ return i("The input sequence was empty.");}
function cp(f1, f2){ f1<0?dP():void 0;return{GetEnumerator:() => { const f3=[c2(f2)];return new c6(0, null, (f4) => { f4.s=f4.s+1;if(f4.s>f1)return false;else { const f5=f3[0];return A(f5, null)?dN():f5.MoveNext()?(f4.c=f5.Current,f4.s===f1?(f5.Dispose(),f3[0]=null):void 0,true):(f5.Dispose(),f3[0]=null,dN());} }, () => { const f4=f3[0];if(!A(f4, null))f4.Dispose();});}};}
function cq(f1){ return{GetEnumerator:() => new c6(0, null, (f2) => { f2.c=f1(f2.s);f2.s=f2.s+1;return true;}, void 0)};}
function cr(f1, f2){ return!cs((f3) =>!f1(f3), f2);}
function cs(f1, f2){ const f3=c2(f2);try { let f4=false;while(!f4&&f3.MoveNext())f4=f1(f3.Current);return f4;} finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} }
function ct(f1, f2){ const f3=[];for(let f5=0, f6=f2.length-1;f5<=f6;f5++){ const f4=f1(f2[f5]);if(f4==null){ } else f3.push(f4.$0);} return f3;}
function cu(f1, f2){ let f3=null;let f4=0;while(f4<f2.length&&f3==null){ f1(f2[f4])?f3=z(f4):void 0;f4=f4+1;} return f3;}
function cv(f1, f2){ let f3=null;let f4=0;while(f4<f2.length&&f3==null){ const f5=f1(f2[f4]);if(f5!=null&&f5.$==1)f3=f5;f4=f4+1;} return f3;}
function cw(f1, f2){ let f3=false;let f4=0;while(!f3&&f4<t(f2))if(f1(f2[f4]))f3=true;else f4=f4+1;return f3;}
function cx(f1){ return Array.prototype.concat.apply([], cC(f1));}
function cy(f1, f2){ for(let f3=0, f4=f2.length-1;f3<=f4;f3++)f1(f2[f3]);}
function cz(f1, f2, f3){ let f4=f3;const f5=f2.length;for(let f6=1, f7=f5;f6<=f7;f6++)f4=f1(f2[f5-f6], f4);return f4;}
function cA(f1, f2){ const f3=new Array(f2.length);for(let f4=0, f5=f2.length-1;f4<=f5;f4++)f3[f4]=f1(f2[f4]);return f3;}
function cB(f1, f2){ const f3=[];for(let f4=0, f5=f2.length-1;f4<=f5;f4++)if(f1(f2[f4]))f3.push(f2[f4]);return f3;}
function cC(f1){ if(f1 instanceof Array)return f1.slice();else if(f1 instanceof eA)return cE(f1);else { const f2=[];const f3=c2(f1);try { while(f3.MoveNext())f2.push(f3.Current);return f2;} finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} } }
function cD(f1, f2){ const f3=cv(f1, f2);return f3==null?i("KeyNotFoundException"):f3.$0;}
function cE(f1){ const f2=[];let f3=f1;while(!(f3.$==0)){ f2.push(fb(f3));f3=fc(f3);} return f2;}
function cF(f1, f2){ let f3=true;let f4=0;while(f3&&f4<t(f2))if(f1(f2[f4]))f4=f4+1;else f3=false;return f3;}
function cG(f1, f2){ const f3=new Array(f1);for(let f4=0, f5=f1-1;f4<=f5;f4++)f3[f4]=f2;return f3;}
function cH(f1, f2){ if(f1<0)i("Negative size given.");else null;const f3=new Array(f1);for(let f4=0, f5=f1-1;f4<=f5;f4++)f3[f4]=f2(f4);return f3;}
let cI=fS((f1) => class f2 extends o { static { cI=f1(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(f3, f4, f5){ let f6;const f7=cI.GetHolesFor(f3);const f8=(f6=null,[f7.TryGetValue(f4, {get:() => f6, set:(f_) => { f6=f_;}}), f6]);if(f8[0])return f8[1];else { const f9=f5();f7.set_Item(f4, f9);return f9;} } static GetHolesFor(f3){ let f4;const f5=(f4=null,[cI.initialized.TryGetValue(f3, {get:() => f4, set:(f7) => { f4=f7;}}), f4]);if(f5[0])return f5[1];else { const f6=new bF("New_5");cI.initialized.set_Item(f3, f6);return f6;} } static { cI.initialized=new bF("New_5");cI.instances=new bF("New_5");} });
let cJ=fS((f1) => { fV(v);return class f2 extends v { static { cJ=f1(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(u0032(String, this.fillWith.View));} AddAttribute(f3, f4){(f3(f4))(eo(this.fillWith));} get AsChoiceView(){ return ez(u0032(String, this.fillWith.View));} constructor(f3, f4){ super();this.name=f3;this.fillWith=f4;} };});
let cK=fS((f1) => { fV(v);return class f2 extends v { static { cK=f1(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(u0032(String, this.fillWith.View));} AddAttribute(f3, f4){(f3(f4))(ep(this.fillWith));} get AsChoiceView(){ return ez(u0032(String, this.fillWith.View));} constructor(f3, f4){ super();this.name=f3;this.fillWith=f4;} };});
let cL=fS((f1) => { fV(v);return class f2 extends v { static { cL=f1(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(u0032((f3) =>(new Date(f3)).toLocaleString(), this.fillWith.View));} AddAttribute(f3, f4){(f3(f4))(eq(this.fillWith));} get AsChoiceView(){ return ez(u0032((f3) =>(new Date(f3)).toLocaleString(), this.fillWith.View));} constructor(f3, f4){ super();this.name=f3;this.fillWith=f4;} };});
let cM=fS((f1) => { fV(v);return class f2 extends v { static { cM=f1(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(u0032(String, this.fillWith.View));} AddAttribute(f3, f4){(f3(f4))(er(this.fillWith));} get AsChoiceView(){ return ez(u0032(String, this.fillWith.View));} constructor(f3, f4){ super();this.name=f3;this.fillWith=f4;} };});
let cN=fS((f1) => { fV(v);return class f2 extends v { static { cN=f1(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f3, f4){ super();this.name=f3;this.fillWith=f4;} };});
let cO=fS((f1) => { fV(v);return class f2 extends v { static { cO=f1(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(u0032((f3) => b6(",", f3), this.fillWith.View));} AddAttribute(f3, f4){(f3(f4))(es(this.fillWith));} get AsChoiceView(){ return ez(u0032(String, this.fillWith.View));} constructor(f3, f4){ super();this.name=f3;this.fillWith=f4;} };});
let cP=fS((f1) => class f2 extends o { static { cP=f1(this);} idle;robin;Fork(f3){ this.robin.push(f3);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const f3=Date.now();let f4=true;while(f4)if(this.robin.length===0){ this.idle=true;f4=false;} else {(this.robin.shift())();Date.now()-f3>40?(setTimeout(() => { this.tick();}, 0),f4=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
function cQ(f1){ return{$:6, $0:f1};}
function cR(f1){ return{$:5, $0:f1};}
function cS(f1){ return{$:4, $0:f1};}
let cT=fS((f1) => class f2 { static { cT=f1(this);} });
function cU(f1, f2){ return fL(f1, -2147483648, 2147483647, f2);}
function cV(f1, f2){ return{$:2, $0:f1, $1:f2};}
function cW(f1){ return{$:0, $0:f1};}
function cX(f1, f2){ return{$:3, $0:f1, $1:f2};}
function cY(f1){ let f2;const f3=f1.s;if(f3==null||(f3!=null&&f3.$==2?(f2=f3.$1,false):f3!=null&&f3.$==3?(f2=f3.$1,false):true))void 0;else { f1.s=null;for(let f5=0, f6=t(f2)-1;f5<=f6;f5++){ const f4=q(f2, f5);if(typeof f4=="object")(((f7) => { cY(f7);})(f4));else f4();} } }
let cZ=fS((f1) => class f2 { static { cZ=f1(this);} static counter;static { this.counter=0;} });
let c0=fS((f1) => class f2 extends o { static { c0=f1(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
function c1(){ throw new e6("New");}
function c2(f1){ return f1 instanceof Array?c3(f1):A(typeof f1, "string")?c4(f1):f1.GetEnumerator();}
function c3(f1){ return new c6(0, null, (f2) => { const f3=f2.s;return f3<t(f1)&&(f2.c=q(f1, f3),f2.s=f3+1,true);}, void 0);}
function c4(f1){ return new c6(0, null, (f2) => { const f3=f2.s;return f3<f1.length&&(f2.c=f1[f3],f2.s=f3+1,true);}, void 0);}
function c5(f1){ return f1 instanceof Array?c3(f1):A(typeof f1, "string")?c4(f1):"GetEnumerator0"in f1?f1.GetEnumerator0():f1.GetEnumerator();}
let c6=fS((f1) => class f2 extends o { static { c6=f1(this);} s;c;n;d;e;MoveNext(){ const f3=this.n(this);this.e=f3?1:2;return f3;} get Current(){ return this.e===1?this.c:this.e===0?i("Enumeration has not started. Call MoveNext."):i("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(f3, f4, f5, f6){ super();this.s=f3;this.c=f4;this.n=f5;this.d=f6;this.e=0;} });
let c7=fS((f1) => class f2 { static { c7=f1(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bF("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bF("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function c8(f1, f2){ c9(f1, f2, null);}
function c9(f1, f2, f3){ while(true){ if(f2!=null&&f2.$==1)return dc(f1, f2.$0.El, f3);else if(f2!=null&&f2.$==2){ const f4=f2.$0;f4.Dirty=false;f2=f4.Current;} else if(f2==null)return f3;else if(f2!=null&&f2.$==4)return dc(f1, f2.$0.Text, f3);else if(f2!=null&&f2.$==5)return dc(f1, f2.$0, f3);else if(f2!=null&&f2.$==6)return cz((f7, f8) =>((((f9) =>(f_) =>(f$) => f_==null||f_.constructor===Object?c9(f9, f_, f$):dc(f9, f_, f$))(f1))(f7))(f8), f2.$0.Els, f3);else { const f5=f2.$1;const f6=f2.$0;f2=f6;f3=c9(f1, f5, f3);} } }
function c_(f1, f2){ return eG(eH(), dd(f1, d7(), f2));}
function c$(f1, f2, f3){ if(dR()){ const f4=null;return M(() => { const f5=eI(f3);const f6=dh(f2, f5);const f7=dg(f2, f5);return N(dS(dT(f6, df(f2, f5))), () => N(de(f1, f2), () => N(dS(f7), () => { f2.PreviousNodes=f5;return O(null);})));});} else return de(f1, f2);}
function da(f1, f2, f3){ const f4=eI(f3);di(f1, f2.Top);f2.PreviousNodes=f4;}
function db(f1, f2){ const f3=f1.parentNode;const f4=globalThis.document.createTextNode("");f3.insertBefore(f4, f1);dl(f1, f2);return f4;}
function dc(f1, f2, f3){ dL(f1, f3, f2);return f2;}
function dd(f1, f2, f3){ c8(f1, f3);const f4=d1(f1, f2);return dr.New(f4, f3, null, f1, bc(), fW(f4.OnAfterRender));}
function de(f1, f2){ if(dY()){ const f3=(f4) => { requestAnimationFrame(() => { di(f1, f2.Top);f4();});};return S((f4, f5, f6) => f3.apply(null, [f4, f5, f6]));} else { di(f1, f2.Top);return O(null);} }
function df(f1, f2){ return dW(cA((f3) => d9(f3.Attr), eM(eL(f2, eK((f3) => d8(f3.Attr), f1.PreviousNodes)))));}
function dg(f1, f2){ return dW(cA((f3) => d$(f3.Attr), eM(eL(f1.PreviousNodes, eK((f3) => d_(f3.Attr), f2)))));}
function dh(f1, f2){ const f3=(f5) => ea(f5.Attr);const f4=(f5) => eK(f3, f5);return dW(cA((f5) => eb(f5.Attr), eM(eN(f4(f1.PreviousNodes), f4(f2)))));}
function di(f1, f2){!f1?dm(f2):void 0;dn(f2.Children);do_1(f2);}
function dj(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function dk(f1, f2){ f1.Value=f2;f1.Dirty=true;}
function dl(f1, f2){ c9(f1.parentNode, f2, f1);}
function dm(f1){ function f2(f3){ function f4(f5){ while(true){ if(f5!=null&&f5.$==0){ const f6=f5.$1;const f7=f5.$0;if(f4(f7))return true;else f5=f6;} else if(f5!=null&&f5.$==2){ const f8=f5.$0;if(f8.Dirty)return true;else f5=f8.Current;} else if(f5!=null&&f5.$==6){ const f9=f5.$0;return f9.Dirty||cw(f2, f9.Holes);} else return false;} } return f4(f3.Children);} ee(f1.El, f1.Attr);if(f2(f1))dp(f1);}
function dn(f1){ while(true){ if(f1!=null&&f1.$==1)return di(false, f1.$0);else if(f1!=null&&f1.$==2){ const f2=f1.$0;f1=f2.Current;} else if(f1==null)return null;else if(f1!=null&&f1.$==5)return null;else if(f1!=null&&f1.$==4){ const f3=f1.$0;return f3.Dirty?(f3.Text.nodeValue=f3.Value,f3.Dirty=false):null;} else if(f1!=null&&f1.$==6){ const f4=f1.$0;cy((f7) => { di(false, f7);}, f4.Holes);cy((f7) => { ee(f7[0], f7[1]);}, f4.Attrs);return do_1(f4);} else { const f5=f1.$1;const f6=f1.$0;dn(f6);f1=f5;} } }
function do_1(f1){ const f2=fW(f1.Render);if(f2!=null&&f2.$==1){ f2.$0(f1.El);fU(f1, "Render", null);} }
function dp(f1){ const f2=f1.El;function f3(f7, f8){ while(true){ if(f7!=null&&f7.$==1)return f7.$0.El;else if(f7!=null&&f7.$==2){ const f9=f7.$0;if(f9.Dirty){ f9.Dirty=false;return c9(f2, f9.Current, f8);} else f7=f9.Current;} else if(f7==null)return f8;else if(f7!=null&&f7.$==4)return f7.$0.Text;else if(f7!=null&&f7.$==5)return f7.$0;else if(f7!=null&&f7.$==6){ const f_=f7.$0;if(f_.Dirty)f_.Dirty=false;return cz((gb, gc) => gb==null||gb.constructor===Object?f3(gb, gc):gb, f_.Els, f8);} else { const f$=f7.$1;const ga=f7.$0;f7=ga;f8=f3(f$, f8);} } } const f4=f1.El;fG((f7) => { dM(f4, f7);}, fF(fH(f1), fE(f1.El, fW(f1.Delimiters))));let f5=f1.Children;const f6=fW(f1.Delimiters);f3(f5, f6!=null&&f6.$==1?f6.$0[1]:null);}
let dq=fS((f1) => { fV(Error);return class f2 extends Error { static { dq=f1(this);} ct;static New(f3){ return new this("New", f3);} static New_1(f3, f4, f5){ return new this("New_1", f3, f4, f5);} constructor(f3, f4, f5, f6){ let f7;if(f3=="New"){ f7=f4;f3="New_1";f4="The operation was canceled.";f5=null;f6=f7;} if(f3=="New_1"){ const f8=f4;const f9=f5;const f_=f6;super(f8);this.inner=f9;this.ct=f_;} } };});
let dr=fS((f1) => class f2 { static { dr=f1(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(f3){ return this.ElKey===f3.ElKey;} GetHashCode(){ return this.ElKey;} static New(f3, f4, f5, f6, f7, f8){ const f9={Attr:f3, Children:f4, El:f6, ElKey:f7};let f_=(fU(f9, "Delimiters", f5),fU(f9, "Render", f8),f9);return fZ(dr, f_);} });
let ds=fS((f1) => { fV(by);return class f2 extends by { static { ds=f1(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(f3, f4){ const f5=eE.Create(f4);const f6=cA((f9) => d2(f9[1]), f3.Attrs);let f7=eB(u0034(), u0039, f6);let f8=u0039(f7, f5.v);return new f2(cQ(f3), f8, q(f3.Els, 0), f5);} constructor(f3, f4, f5, f6){ super(f3, f4);this.docNode_1=f3;this.updates_1=f4;this.elt=f5;this.rvUpdates=f6;} };});
function dt(f1){ let f2=null;let f3=0;const f4=f1.textContent;const f5=new RegExp(bx(), "g");while(f2=f5.exec(f4),f2!==null){ f1.parentNode.insertBefore(globalThis.document.createTextNode(dB(f4, z(f3), z(f5.lastIndex-q(f2, 0).length-1))), f1);f3=f5.lastIndex;const f6=globalThis.document.createElement("span");f6.setAttribute("ws-replace", q(f2, 1).toLowerCase());f1.parentNode.insertBefore(f6, f1);} f5.lastIndex=0;f1.textContent=dB(f4, z(f3), null);}
function du(f1){ console.warn("Instantiating non-loaded template", f1);}
function dv(f1, f2, f3){ const f4=f1.querySelector("[ws-replace]");return A(f4, null)?(console.warn("Filling non-existent text hole", f3),null):(f4.parentNode.replaceChild(globalThis.document.createTextNode(f2), f4),z(f4.getAttribute("ws-replace")));}
function dw(f1, f2){ const f3=(f4) => { bu(f1, "["+f4+"]", (f5) => { if(!f2.Contains(f5.getAttribute(f4)))f5.removeAttribute(f4);});};f3("ws-attr");f3("ws-onafterrender");f3("ws-var");bu(f1, "[ws-hole]", (f4) => { if(!f2.Contains(f4.getAttribute("ws-hole"))){ f4.removeAttribute("ws-hole");while(f4.hasChildNodes())f4.removeChild(f4.lastChild);} });bu(f1, "[ws-replace]", (f4) => { if(!f2.Contains(f4.getAttribute("ws-replace")))f4.parentNode.removeChild(f4);});bu(f1, "[ws-on]", (f4) => { f4.setAttribute("ws-on", b6(" ", cB((f5) => f2.Contains(q(b7(f5, [":"], 1), 1)), b7(f4.getAttribute("ws-on"), [" "], 1))));});bu(f1, "[ws-attr-holes]", (f4) => { const f5=b7(f4.getAttribute("ws-attr-holes"), [" "], 1);for(let f9=0, f_=f5.length-1;f9<=f_;f9++){ const f6=q(f5, f9);let f7=new RegExp(bx(), "g");let f8=f4.getAttribute(f6).replace(f7, (f$, ga) => f2.Contains(ga)?f$:"");f4.setAttribute(f6, f8);} });}
function dx(f1, f2){ dA(f2);const f3=f2.nodeName.toLowerCase();const f4=f1.querySelector("[ws-attr="+f3+"]");if(A(f4, null))console.warn("Filling non-existent attr hole", f3);else { f4.removeAttribute("ws-attr");for(let f6=0, f7=f2.attributes.length-1;f6<=f7;f6++){ const f5=f2.attributes.item(f6);if(f5.name=="class"&&f4.hasAttribute("class"))f4.setAttribute("class", f4.getAttribute("class")+" "+f5.nodeValue);else f4.setAttribute(f5.name, f5.nodeValue);} } }
function dy(f1, f2){ const f3=(f4) => { bu(f1, "["+f4+"]", (f5) => { let f6;const f7=(f6=null,[f2.TryGetValue(f5.getAttribute(f4).toLowerCase(), {get:() => f6, set:(f8) => { f6=f8;}}), f6]);if(f7[0])f5.setAttribute(f4, f7[1]);});};f3("ws-hole");f3("ws-replace");f3("ws-attr");f3("ws-onafterrender");f3("ws-var");bu(f1, "[ws-on]", (f4) => { f4.setAttribute("ws-on", b6(" ", cA((f5) => { let f6;const f7=b7(f5, [":"], 1);const f8=(f6=null,[f2.TryGetValue(q(f7, 1), {get:() => f6, set:(f9) => { f6=f9;}}), f6]);return f8[0]?q(f7, 0)+":"+f8[1]:f5;}, b7(f4.getAttribute("ws-on"), [" "], 1))));});bu(f1, "[ws-attr-holes]", (f4) => { const f5=b7(f4.getAttribute("ws-attr-holes"), [" "], 1);for(let f6=0, f7=f5.length-1;f6<=f7;f6++)((() => { const f8=q(f5, f6);return f4.setAttribute(f8, cg((f9, f_) => { const f$=j(f_);return f9.replace(new RegExp("\\${"+f$[0]+"}", "ig"), "${"+f$[1]+"}");}, f4.getAttribute(f8), f2));})());});}
function dz(f1, f2, f3){ while(true){ if(f1.hasChildNodes())f3=f2.insertBefore(f1.lastChild, f3);else return null;} }
function dA(f1){ const f2=f1.attributes;const f3=[];const f4=[];const f5=[];for(let f_=0, f$=f2.length-1;f_<=f$;f_++){ const f6=f2.item(f_);if(b8(f6.nodeName, "ws-on")&&f6.nodeName!="ws-onafterrender"&&f6.nodeName!="ws-on"){ f3.push(f6.nodeName);f4.push(dB(f6.nodeName, z("ws-on".length), null)+":"+f6.nodeValue.toLowerCase());} else if(!b8(f6.nodeName, "ws-")&&(new RegExp(bx())).test(f6.nodeValue)){ let f7=new RegExp(bx(), "g");let f8=f6.nodeValue.replace(f7, (ga, gb) =>"${"+gb.toLowerCase()+"}");f6.nodeValue=f8;f5.push(f6.nodeName);} else void 0;} if(!(f4.length==0))f1.setAttribute("ws-on", b6(" ", f4));if(!(f5.length==0))f1.setAttribute("ws-attr-holes", b6(" ", f5));const f9=(ga) => { const gb=f1.getAttribute(ga);if(gb==null){ } else f1.setAttribute(ga, gb.toLowerCase());};f9("ws-hole");f9("ws-replace");f9("ws-attr");f9("ws-onafterrender");f9("ws-var");cy((ga) => { f1.removeAttribute(ga);}, f3);}
function dB(f1, f2, f3){ if(f2==null){ if(f3!=null&&f3.$==1){ const f4=f3.$0;return f4<0?"":f1.slice(0, f4+1);} else return"";} else if(f3==null)return f1.slice(f2.$0);else { const f5=f3.$0;return f5<0?"":f1.slice(f2.$0, f5+1);} }
function dC(f1){ const f2=globalThis.document.createElement("div");if(!dE().test(f1)){ f2.appendChild(globalThis.document.createTextNode(f1));return f2;} else { const f3=dI().exec(f1);const f4=A(f3, null)?"":q(f3, 1).toLowerCase();const f5=(dF())[f4];const f6=f5?f5:dG();f2.innerHTML=f6[1]+f1.replace(dH(), "<$1></$2>")+f6[2];function f7(f8, f9){ while(true){ if(f9===0)return f8;else { const f_=f9;f8=f8.lastChild;f9=f_-1;} } } return f7(f2, f6[0]);} }
function dD(f1){ const f2=[];for(let f3=0, f4=f1.childNodes.length-1;f3<=f4;f3++)f2.push(f1.childNodes[f3]);return f2;}
function dE(){ return eZ.rhtml;}
function dF(){ return eZ.wrapMap;}
function dG(){ return eZ.defaultWrap;}
function dH(){ return eZ.rxhtmlTag;}
function dI(){ return eZ.rtagName;}
function dJ(f1, f2, f3){ const f4=f1.querySelectorAll(f2);for(let f5=0, f6=f4.length-1;f5<=f6;f5++)f3(f4[f5]);}
function dK(f1, f2){ const f3=globalThis.document.querySelectorAll(f1);for(let f4=0, f5=f3.length-1;f4<=f5;f4++)f2(f3[f4]);}
function dL(f1, f2, f3){ let f4;if(f3.parentNode===f1){ const f5=f3.nextSibling;let f6=A(f5, null)?null:f5;f4=f2===f6;} else f4=false;if(!f4)f1.insertBefore(f3, f2);}
function dM(f1, f2){ if(f2.parentNode===f1)f1.removeChild(f2);}
function dN(){ return i("The input sequence has an insufficient number of elements.");}
function dO(f1, f2){ let f3=true;let f4=0;while(f3&&f4<t(f2))if(A(f2[f4], f1))f3=false;else f4=f4+1;return!f3;}
function dP(){ return i("The input must be non-negative.");}
let dQ=fS((f1) => class f2 extends o { static { dQ=f1(this);} d;GetEnumerator(){ return c2(ci((f3) => f3.K, this.d));} constructor(f3){ super();this.d=f3;} });
function dR(){ return eO();}
function dS(f1){ const f2=null;return M(() => N(dU(() => { }, eP(f1)), () => { eQ(f1);return O(null);}));}
function dT(f1, f2){ return dV(e1(f1.$0, f2.$0));}
function dU(f1, f2){ const f3=f2.Duration;if(f3===0)return Q();else { const f4=(f5) => { function f6(f7){ return(f8) => { const f9=f8-f7;f2.Compute(f9);f1();return f9<=f3?void requestAnimationFrame((f_) => {(f6(f7))(f_);}):f5();};} requestAnimationFrame((f7) => {(f6(f7))(f7);});};return S((f5, f6, f7) => f4.apply(null, [f5, f6, f7]));} }
function dV(f1){ return{$:0, $0:f1};}
function dW(f1){ return dV(e3(ci(eS, f1)));}
function dX(){ return dV(e4());}
function dY(){ return eW.BatchUpdatesEnabled;}
function dZ(f1){ const f2=[0];function f3(){ const f4=null;return M(() => N(f1, () => { const f5=f2[0];return A(f5, 1)?(f2[0]=0,Q()):A(f5, 2)?(f2[0]=1,f3()):Q();}));} return() => { const f4=f2[0];if(A(f4, 0)){ f2[0]=1;Y(f3(), null);} else A(f4, 1)?f2[0]=2:void 0;};}
function d0(f1, f2, f3, f4){ const f5={DynElem:f1, DynFlags:f2, DynNodes:f3};fU(f5, "OnAfterRender", f4);return f5;}
function d1(f1, f2){ const f3=[];const f4=[];function f5(f8){ while(true){ if(!(f8===null)){ if(f8!=null&&f8.$==1)return f3.push(f8.$0);else if(f8!=null&&f8.$==2){ const f9=f8.$1;const f_=f8.$0;f5(f_);f8=f9;} else return f8!=null&&f8.$==3?f8.$0(f1):f8!=null&&f8.$==4?f4.push(f8.$0):null;} else return null;} } f5(f2);const f6=f3.slice(0);let f7=d0(f1, d4(f2), f6, f4.length===0?null:z((f8) => { ch((f9) => { f9(f8);}, f4);}));return f7;}
function d2(f1){ return eC((f2) => f2.NChanged, u0034(), u0039, f1.DynNodes);}
function d3(f1){ return d0(f1, 0, [], null);}
function d4(f1){ return f1!==null&&f1.hasOwnProperty("flags")?f1.flags:0;}
function d5(f1){ return ew.A3(f1);}
function d6(f1, f2){ return ew.A1(new e5(f1, f2));}
function d7(){ return e7.EmptyAttr;}
function d8(f1){ const f2=2;return(f1.DynFlags&f2)===f2;}
function d9(f1){ return ed(f1, (f2, f3) => f2.NGetExitAnim(f3));}
function d_(f1){ const f2=1;return(f1.DynFlags&f2)===f2;}
function d$(f1){ return ed(f1, (f2, f3) => f2.NGetEnterAnim(f3));}
function ea(f1){ const f2=4;return(f1.DynFlags&f2)===f2;}
function eb(f1){ return ed(f1, (f2, f3) => f2.NGetChangeAnim(f3));}
function ec(f1, f2){ if(f1===null)return f2;else if(f2===null)return f1;else { const f3=ew.A2(f1, f2);ef(f3, d4(f1)|d4(f2));return f3;} }
function ed(f1, f2){ return dW(cA((f3) => f2(f3, f1.DynElem), f1.DynNodes));}
function ee(f1, f2){ cy((f3) => { f3.NSync(f1);}, f2.DynNodes);}
function ef(f1, f2){ f1.flags=f2;}
let eg=fS((f1) => { fV(v);return class f2 extends v { static { eg=f1(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let eh=fS((f1) => { fV(v);return class f2 extends v { static { eh=f1(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return ey(this.fillWith);} };});
let ei=fS((f1) => { fV(v);return class f2 extends v { static { ei=f1(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let ej=fS((f1) => { fV(v);return class f2 extends v { static { ej=f1(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function ek(f1, f2){ return d5((f3) => { f3.addEventListener(f1, (f4) =>(f2(f3))(f4), false);});}
function el(f1){ return ew.A4(f1);}
function em(f1, f2){ return d6(f2, (f3) =>(f4) => f3.setAttribute(f1, f4));}
function en(f1){ return et(fw(), f1);}
function eo(f1){ return et(fx(), f1);}
function ep(f1){ return et(fy(), f1);}
function eq(f1){ return et(fz(), f1);}
function er(f1){ return et(fA(), f1);}
function es(f1){ return et(fB(), f1);}
function et(f1, f2){ const f3=f1(f2);return ew.Append(d5(f3[0]), eu(f3[1], f3[2]));}
function eu(f1, f2){ return d6(f2, f1);}
let ev=fS((f1) => { fV(v);return class f2 extends v { static { ev=f1(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let ew=fS((f1) => class f2 { static { ew=f1(this);} static Handler(f3, f4){ return ew.HandlerImpl(f3, f4);} static Concat(f3){ const f4=eD(f3);return eB(d7(), ew.Append, f4);} static Create(f3, f4){ return d5((f5) => { f5.setAttribute(f3, f4);});} static HandlerImpl(f3, f4){ return d5((f5) => { f5.addEventListener(f3, (f6) =>(f4(f5))(f6), false);});} static Append(f3, f4){ return ec(f3, f4);} static A4(f3){ return fZ(f2, {$:4, $0:f3});} static A3(f3){ return fZ(f2, {$:3, $0:f3});} static A1(f3){ return fZ(f2, {$:1, $0:f3});} static A2(f3, f4){ return fZ(f2, {$:2, $0:f3, $1:f4});} });
let ex=fS((f1) => { fV(v);return class f2 extends v { static { ex=f1(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function ey(f1){ return{$:0, $0:f1};}
function ez(f1){ return{$:1, $0:f1};}
let eA=fS((f1) => class f2 { static { eA=f1(this);} static Cons(f3, f4){ return fZ(f2, {$:1, $0:f3, $1:f4});} static Empty=fZ(eA, {$:0});GetEnumerator(){ return new c6(this, null, (f3) => { const f4=f3.s;return f4.$==0?false:(f3.c=f4.$0,f3.s=f4.$1,true);}, void 0);} });
function eB(f1, f2, f3){ const f4=t(f3);function f5(f6){ return(f7) => { let f8;switch(f7<=0?0:f7===1?f6>=0&&f6<f4?1:(f8=f7,2):(f8=f7,2)){ case 0:return f1;case 1:return q(f3, f6);case 2:const f9=f7/2>>0;return f2((f5(f6))(f9), (f5(f6+f9))(f7-f9));} };} return(f5(0))(f4);}
function eC(f1, f2, f3, f4){ const f5=t(f4);function f6(f7){ return(f8) => { let f9;switch(f8<=0?0:f8===1?f7>=0&&f7<f5?1:(f9=f8,2):(f9=f8,2)){ case 0:return f2;case 1:return f1(q(f4, f7));case 2:const f_=f8/2>>0;return f3((f6(f7))(f_), (f6(f7+f_))(f8-f_));} };} return(f6(0))(f5);}
function eD(f1){ if(f1 instanceof Array)return f1;else if(f1 instanceof eA)return cE(f1);else if(f1===null)return[];else { const f2=[];const f3=c2(f1);try { while(f3.MoveNext())f2.push(f3.Current);return f2;} finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} } }
let eE=fS((f1) => class f2 { static { eE=f1(this);} c;s;v;static Create(f3){ let f4;f4=null;f4=eE.New(f3, null, () => { let f5;f5=f4.s;return f5===null?(f5=bU(f4.c()),f4.s=f5,bJ(f5, () => { f4.s=null;}),f5):f5;});return f4;} static New(f3, f4, f5){ return fZ(eE, {c:f3, s:f4, v:f5});} });
let eF=fS((f1) => class f2 extends o { static { eF=f1(this);} d;GetEnumerator(){ return c2(ci((f3) => f3.V, this.d));} constructor(f3){ super();this.d=f3;} });
function eG(f1, f2){ return{PreviousNodes:f1, Top:f2};}
function eH(){ return eJ(new cd("New_3"));}
function eI(f1){ const f2=[];function f3(f6, f7){ while(true)switch(f6){ case 0:if(f7!=null&&f7.$==0){ const f8=f7.$1;const f9=f7.$0;f3(0, f9);f7=f8;} else if(f7!=null&&f7.$==1){ const f_=f7.$0;f7=f_;f6=1;} else if(f7!=null&&f7.$==2){ const f$=f7.$0;f7=f$.Current;} else if(f7!=null&&f7.$==6){ const ga=f7.$0.Holes;return(((gb) =>(gc) => { cy(gb, gc);})(f5))(ga);} else return null;break;case 1:f2.push(f7);f7=f7.Children;f6=0;break;} } function f4(f6){ return f3(0, f6);} function f5(f6){ return f3(1, f6);} f4(f1);return eJ(new cd("New_2", f2));}
function eJ(f1){ return{$:0, $0:f1};}
function eK(f1, f2){ return eJ(e9(f1, f2.$0));}
function eL(f1, f2){ return eJ(e_(f1.$0, f2.$0));}
function eM(f1){ return e$(f1.$0);}
function eN(f1, f2){ return eJ(fa(f1.$0, f2.$0));}
function eO(){ return e0.UseAnimations;}
function eP(f1){ return eR(ct((f2) => f2.$==1?z(f2.$0):null, e2(f1.$0)));}
function eQ(f1){ cy((f2) => { if(f2.$==0)f2.$0();}, e2(f1.$0));}
function eR(f1){ const f2=eD(f1);const f3=t(f2);if(f3===0)return eT();else if(f3===1)return q(f2, 0);else { const f4=cl(ci((f6) => f6.Duration, f2));const f5=cA((f6) => eV(f4, f6), f2);return eU(f4, (f6) => { cy((f7) => { f7.Compute(f6);}, f5);});} }
function eS(f1){ return f1.$0;}
function eT(f1){ return eU(0, () => f1);}
function eU(f1, f2){ return{Compute:f2, Duration:f1};}
function eV(f1, f2){ const f3=f2.Compute;const f4=f2.Duration;const f5=fM(() => f2.Compute(f2.Duration));return{Compute:(f6) => f6>=f4?f5.f():f3(f6), Duration:f1};}
let eW=fS((f1) => class f2 { static { eW=f1(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eX(f1){ let f2=[];let f3;for(var f4 in f1)f2.push.apply(f2, f1[f4]);return f2;}
function eY(f1){ f1.splice(0, t(f1));}
let eZ=fS((f1) => class f2 { static { eZ=f1(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const f3=[1, "<table>", "</table>"];let f4=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", f3], ["tbody", f3], ["tfoot", f3], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=f4;this.defaultWrap=[0, "", ""];} });
let e0=fS((f1) => class f2 { static { e0=f1(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e8.Custom((f3) => { const f4=f3*f3;return 3*f4-2*(f4*f3);});this.UseAnimations=true;} });
function e1(f1, f2){ return f1.$==0?f2:f2.$==0?f1:{$:2, $0:f1, $1:f2};}
function e2(f1){ const f2=[];function f3(f4){ while(true){ if(f4.$==1)return f2.push(f4.$0);else if(f4.$==2){ const f5=f4.$1;const f6=f4.$0;f3(f6);f4=f5;} else return f4.$==3?cy((f7) => { f2.push(f7);}, f4.$0):null;} } f3(f1);return f2.slice(0);}
function e3(f1){ const f2=eD(f1);return eB(e4(), e1, f2);}
function e4(){ return fP.Empty;}
let e5=fS((f1) => class f2 extends o { static { e5=f1(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(f3){ return dX();} NGetEnterAnim(f3){ return dX();} NGetChangeAnim(f3){ return dX();} NSync(f3){ if(this.dirty){(this.push(f3))(this.value);this.dirty=false;} } constructor(f3, f4){ super();this.push=f4;this.value=void 0;this.dirty=false;this.updates=u0032((f5) => { this.value=f5;this.dirty=true;}, f3);} });
let e6=fS((f1) => { fV(Error);return class f2 extends Error { static { e6=f1(this);} static New(){ return new this("New");} static New_1(f3){ return new this("New_1", f3);} constructor(f3, f4){ if(f3=="New"){ f3="New_1";f4="The given key was not present in the dictionary.";} if(f3=="New_1"){ const f5=f4;super(f5);} } };});
let e7=fS((f1) => class f2 { static { e7=f1(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gh) =>[(gi) => { gi.addEventListener("change", () => gh.Get()!=gi.checked?gh.Set(gi.checked):null);}, (gi) =>(gj) => gj!=null&&gj.$==1?void(gi.checked=gj.$0):null, u0032(z, gh.View)];this.StringSet=(gh) =>(gi) => { gh.value=gi;};this.StringGet=(gh) => z(gh.value);const f3=fg();const f4=ff();this.StringApply=(gh) => fe(f3, f4, gh);this.StringListSet=(gh) =>(gi) => { const gj=gh.options;for(let gk=0, gl=gj.length-1;gk<=gl;gk++)((() => { const gm=gj.item(gk);gm.selected=dO(gm.value, gi);})());};this.StringListGet=(gh) => { const gi=gh.selectedOptions;return z(cC(cj(() => ck((gj) =>[gi.item(gj).value], k(0, gi.length-1)))));};const f5=fi();const f6=fh();this.StringListApply=(gh) => fe(f5, f6, gh);this.DateTimeSetUnchecked=(gh) =>(gi) => { gh.value=(new Date(gi)).toLocaleString();};this.DateTimeGetUnchecked=(gh) => { let gi;let gj;const gk=gh.value;if(fC(gk))return z(-8640000000000000);else { gi=0;const gl=fK(gk);let gm=gl!=null&&gl.$==1&&(gi=gl.$0,true);gj=[gm, gi];return gj[0]?z(gj[1]):null;} };const f7=fk();const f8=fj();this.DateTimeApplyUnchecked=(gh) => fe(f7, f8, gh);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gh) => { const gi=gh.files;return z(cC(cj(() => ci((gj) => gi.item(gj), k(0, gi.length-1)))));};const f9=fn();const f_=fm();this.FileApplyUnchecked=(gh) => fl(f9, f_, gh);this.IntSetUnchecked=(gh) =>(gi) => { gh.value=String(gi);};this.IntGetUnchecked=(gh) => { const gi=gh.value;if(fC(gi))return z(0);else { const gj=+gi;return gj!==gj>>0?null:z(gj);} };const f$=fp();const ga=fo();this.IntApplyUnchecked=(gh) => fe(f$, ga, gh);this.IntSetChecked=(gh) =>(gi) => { const gj=gi.Input;return gh.value!=gj?void(gh.value=gj):null;};this.IntGetChecked=(gh) => { let gi;let gj;const gk=gh.value;if(fC(gk))gi=(gh.checkValidity?gh.checkValidity():true)?fD.Blank(gk):fD.Invalid(gk);else { const gl=(gj=0,[cU(gk, {get:() => gj, set:(gm) => { gj=gm;}}), gj]);gi=gl[0]?fD.Valid(gl[1], gk):fD.Invalid(gk);} return z(gi);};const gb=fr();const gc=fq();this.IntApplyChecked=(gh) => fe(gb, gc, gh);this.FloatSetUnchecked=(gh) =>(gi) => { gh.value=String(gi);};this.FloatGetUnchecked=(gh) => { const gi=gh.value;if(fC(gi))return z(0);else { const gj=+gi;return isNaN(gj)?null:z(gj);} };const gd=ft();const ge=fs();this.FloatApplyUnchecked=(gh) => fe(gd, ge, gh);this.FloatSetChecked=(gh) =>(gi) => { const gj=gi.Input;return gh.value!=gj?void(gh.value=gj):null;};this.FloatGetChecked=(gh) => { let gi;const gj=gh.value;if(fC(gj))gi=(gh.checkValidity?gh.checkValidity():true)?fD.Blank(gj):fD.Invalid(gj);else { const gk=+gj;gi=isNaN(gk)?fD.Invalid(gj):fD.Valid(gk, gj);} return z(gi);};const gf=fv();const gg=fu();this.FloatApplyChecked=(gh) => fe(gf, gg, gh);} });
let e8=fS((f1) => class f2 extends o { static { e8=f1(this);} transformTime;static Custom(f3){ return new f2(f3);} constructor(f3){ super();this.transformTime=f3;} });
function e9(f1, f2){ return new cd("New_2", cB(f1, e$(f2)));}
function e_(f1, f2){ const f3=new cd("New_2", e$(f2));f3.ExceptWith(e$(f1));return f3;}
function e$(f1){ const f2=cG(f1.Count, void 0);f1.CopyTo(f2, 0);return f2;}
function fa(f1, f2){ const f3=new cd("New_2", e$(f1));f3.IntersectWith(e$(f2));return f3;}
function fb(f1){ return f1.$==1?f1.$0:fd();}
function fc(f1){ return f1.$==1?f1.$1:fd();}
function fd(){ return i("The input list was empty.");}
function fe(f1, f2, f3){ let f4;f4=null;return[(f5) => { const f6=() => { f3.UpdateMaybe((f7) => { let f8;f4=f1(f5);return f4!=null&&f4.$==1&&(!A(f4.$0, f7)&&(f8=[f4, f4.$0],true))?f8[0]:null;});};f5.addEventListener("change", f6);f5.addEventListener("input", f6);f5.addEventListener("keypress", f6);}, (f5) => { const f6=f2(f5);return(f7) => f7==null?null:f6(f7.$0);}, u0032((f5) => { let f6;return f4!=null&&f4.$==1&&(A(f4.$0, f5)&&(f6=f4.$0,true))?null:z(f5);}, f3.View)];}
function ff(){ return e7.StringSet;}
function fg(){ return e7.StringGet;}
function fh(){ return e7.StringListSet;}
function fi(){ return e7.StringListGet;}
function fj(){ return e7.DateTimeSetUnchecked;}
function fk(){ return e7.DateTimeGetUnchecked;}
function fl(f1, f2, f3){ let f4;f4=null;return[(f5) => { f5.addEventListener("change", () => { f3.UpdateMaybe((f6) => { let f7;f4=f1(f5);return f4!=null&&f4.$==1&&(f4.$0!==f6&&(f7=[f4, f4.$0],true))?f7[0]:null;});});}, (f5) => { const f6=f2(f5);return(f7) => f7==null?null:f6(f7.$0);}, u0032((f5) => { let f6;return f4!=null&&f4.$==1&&(A(f4.$0, f5)&&(f6=f4.$0,true))?null:z(f5);}, f3.View)];}
function fm(){ return e7.FileSetUnchecked;}
function fn(){ return e7.FileGetUnchecked;}
function fo(){ return e7.IntSetUnchecked;}
function fp(){ return e7.IntGetUnchecked;}
function fq(){ return e7.IntSetChecked;}
function fr(){ return e7.IntGetChecked;}
function fs(){ return e7.FloatSetUnchecked;}
function ft(){ return e7.FloatGetUnchecked;}
function fu(){ return e7.FloatSetChecked;}
function fv(){ return e7.FloatGetChecked;}
function fw(){ return e7.StringApply;}
function fx(){ return e7.FloatApplyUnchecked;}
function fy(){ return e7.BoolCheckedApply;}
function fz(){ return e7.DateTimeApplyUnchecked;}
function fA(){ return e7.FileApplyUnchecked;}
function fB(){ return e7.StringListApply;}
function fC(f1){ return ca(fJ, f1);}
let fD=fS((f1) => class f2 { static { fD=f1(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(f3){ return fZ(f2, {$:2, $0:f3});} static Invalid(f3){ return fZ(f2, {$:1, $0:f3});} static Valid(f3, f4){ return fZ(f2, {$:0, $0:f3, $1:f4});} });
function fE(f1, f2){ let f3;if(f2!=null&&f2.$==1){ const f4=[];f3=f2.$0[0].nextSibling;while(f3!==f2.$0[1]){ f4.push(f3);f3=f3.nextSibling;} return fI(f4);} else { let f5=f1.childNodes.length;const f6=f1.childNodes;let f7=cH(f5, (f8) => f6[f8]);return fI(f7);} }
function fF(f1, f2){ const f3=f1.$0;return fI(cB((f4) => cF((f5) =>!(f4===f5), f3), f2.$0));}
function fG(f1, f2){ cy(f1, f2.$0);}
function fH(f1){ const f2=[];function f3(f4){ while(true){ if(f4!=null&&f4.$==2){ const f5=f4.$0;f4=f5.Current;} else if(f4!=null&&f4.$==1)return f2.push(f4.$0.El);else if(f4==null)return null;else if(f4!=null&&f4.$==5)return f2.push(f4.$0);else if(f4!=null&&f4.$==4)return f2.push(f4.$0.Text);else if(f4!=null&&f4.$==6){ const f6=f4.$0.Els;return(((f9) =>(f_) => { cy(f9, f_);})((f9) => { if(f9==null||f9.constructor===Object)f3(f9);else f2.push(f9);}))(f6);} else { const f7=f4.$1;const f8=f4.$0;f3(f8);f4=f7;} } } f3(f1.Children);return fI(eD(f2));}
function fI(f1){ return{$:0, $0:f1};}
function fJ(f1){ return f1.match(new RegExp("\\s"))!==null;}
function fK(f1){ const f2=Date.parse(f1);return isNaN(f2)?null:z(f2);}
function fL(f1, f2, f3, f4){ const f5=+f1;const f6=f5===f5-f5%1&&f5>=f2&&f5<=f3;if(f6)f4.set(f5);return f6;}
function fM(f1){ return fQ(false, f1, fN);}
function fN(){ const f1=this.v();this.c=true;this.v=f1;this.f=fO;return f1;}
function fO(){ return this.v;}
let fP=fS((f1) => class f2 { static { fP=f1(this);} static Empty;static { this.Empty={$:0};} });
function fQ(f1, f2, f3){ return{c:f1, v:f2, f:f3};}
f0(() => { b();});
fR();

