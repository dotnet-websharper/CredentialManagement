import { Start as fR } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fS, SetOptional as fT, Lazy as fU, GetOptional as fV, CreateFuncWithArgs as fW, DeleteEmptyFields as fX, Create as fY, OnLoad as fZ } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(f0){ return"Dispose"in f0;}
function b(){ const f0=null;P(M(() => N(l(c()), () => O(null))), null);const f1=new u("New_1");const f2=(f1.h.push(new u0031("username", w.Lens(e(), (f9) => f9, (f9, f_) => f_))),f1);const f3=(f2.h.push(new u0031("password", w.Lens(d(), (f9) => f9, (f9, f_) => f_))),f2);const f4=(f3.h.push(new bG("forminit", () => { const f9=null;P(M(() => { globalThis.document.getElementById("loginForm").addEventListener("submit", (f_) => { const f$=null;return P(M(() => N(l(f(f_)), () => O(null))), null);});return Q();}), null);})),f3);const f5=bf(f4.k, f4.h, [["username", 0, null], ["password", 0, null]]);const f6=new p(f5[1], L(f5[0]));let f7=(f4.i=f6,f6);const f8=f7.Doc;bg("");by.RunById("main", f8);}
function c(){ const f0=null;return new Promise((f1) => { f1(new Promise((f2) => { let f3;const f4=(f3={},f3.password=true,f3.mediation="optional",f3);let f5=g().get(f4).then((f6) =>!(f6==null)?(console.log("Retrieved credentials:", f6),!(f6.id==null)&&!(f6.password==null)?(console.log("Credential id: "+String(f6.id)),console.log("Credential Password: "+String(f6.password)),e().Set(f6.id),d().Set(f6.password),Promise.resolve(null)):(console.log("Credential Id is undefined."),console.log("Credential Password is undefined."),Promise.resolve(null))):(console.log("No stored credentials found."),Promise.resolve(null)));f2(f5);})["catch"]((f2) => { console.error("Failed to retrieve credentials: "+String(m(f2).message));return Promise.resolve(null);}));});}
function d(){ return bd.password;}
function e(){ return bd.username;}
function f(f0){ const f1=null;return new Promise((f2) => { f0.preventDefault();const f3=e().Get();const f4=d().Get();let f5=!(b5(f3)||b5(f4))?h(f3, f4).then(() => { alert("Logged in successfully!");return Promise.resolve(null);}):(alert("Please fill in both username and password."),Promise.resolve(null));f2(f5);});}
function g(){ return bd.credentialsContainer;}
function h(f0, f1){ const f2=null;return new Promise((f3) => { let f4;console.log("Attempting to save credentials for username: "+String(f0));const f5=new globalThis.PasswordCredential((f4={},f4.id=f0,f4.password=f1,f4.name=f0,f4));let f6=new Promise((f7) => { f7((console.log("Before storing credential:", f5),n(l(g().store(f5))).then(() => { console.log("Credentials stored successfully!");return Promise.resolve(null);})));})["catch"]((f7) => { console.error("Failed to save credentials: "+String(m(f7).message));return Promise.resolve(null);});f3(f6);});}
function i(f0){ throw new Error(f0);}
function j(f0){ return[f0.K, f0.V];}
function k(f0, f1){ const f2=1+f1-f0;return f2<=0?[]:cn(f2, (f3) => f3+f0);}
function l(f0){ return S((f1, f2) => { f0.then(f1, (f3) => f2(m(f3)));});}
function m(f0){ return f0 instanceof Error?f0:new bD(f0);}
function n(f0){ return new Promise((f1, f2) => { X(f0, f1, (f3) => { f2(f3);}, (f3) => { f2(f3);}, null);});}
class o { Equals(f0){ return this===f0;} GetHashCode(){ return -1;} }
class p extends o { doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(f0, f1){ super();this.doc=f1;this.allVars=f0.$==0?f0.$0:i("Should not happen");this.anchorRoot=null;} }
function q(f0, f1){ s(f0, f1);return f0[f1];}
function r(f0, f1, f2){ s(f0, f1);f0[f1]=f2;}
function s(f0, f1){ if(f1<0||f1>=f0.length)i("Index was outside the bounds of the array.");}
function t(f0){ return f0.dims===2?f0.length*f0.length:f0.length;}
class u extends o { i;k;h;s;static New_1(){ return new this("New_1");} constructor(f0){ if(f0=="New_1"){ let f1;super();this.i=null;this.k=(f1=be(),String(f1));this.h=fS([]);fT(this, "s", null);} } }
class v extends o { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(f0, f1){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ey("");} }
let w=fU((f0) => class f1 extends o { static { w=f0(this);} static Lens(f2, f3, f4){ const f5=$();const f6=u0032(f3, f2.View);return new class extends Z { constructor(){ super();} Get(){ return f3(f2.Get());} Set(f7){ return f2.Update((f8) => f4(f8, f7));} SetFinal(f7){ return this.Set(f7);} Update(f7){ return f2.Update((f8) => f4(f8, f7(f3(f8))));} UpdateMaybe(f7){ return f2.UpdateMaybe((f8) => { const f9=f7(f3(f8));return f9==null?null:z(f4(f8, f9.$0));});} get View(){ return f6;} get Id(){ return f5;} }();} static Create_1(f2){ return new bH(false, {s:cV(f2, [])}, f2);} static { } });
function x(f0){ const f1={};const f2=c2(f0);try { while(f2.MoveNext()){ const f3=f2.Current;f1[f3[0]]=f3[1];} } finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} return f1;}
function y(f0){ let f1=[];let f2;for(var f3 in f0)f1.push(f0[f3]);return f1;}
function z(f0){ return{$:1, $0:f0};}
function A(f0, f1){ if(f0===f1)return true;else { const f2=typeof f0;if(f2=="object"){ if(f0===null||f0===void 0||f1===null||f1===void 0||!A(typeof f1, "object"))return false;else if("Equals"in f0)return f0.Equals(f1);else if("Equals"in f1)return false;else if(f0 instanceof Array&&f1 instanceof Array)return B(f0, f1);else if(f0 instanceof Date&&f1 instanceof Date)return C(f0, f1);else { const f3=[true];let f4;for(var f6 in f0)if(((f7) => { f3[0]=!f0.hasOwnProperty(f7)||f1.hasOwnProperty(f7)&&A(f0[f7], f1[f7]);return!f3[0];})(f6))break;if(f3[0]){ let f5;for(var f7 in f1)if(((f8) => { f3[0]=!f1.hasOwnProperty(f8)||f0.hasOwnProperty(f8);return!f3[0];})(f7))break;} return f3[0];} } else return f2=="function"&&("$Func"in f0?f0.$Func===f1.$Func&&f0.$Target===f1.$Target:"$Invokes"in f0&&"$Invokes"in f1&&B(f0.$Invokes, f1.$Invokes));} }
function B(f0, f1){ let f2;let f3;if(t(f0)===t(f1)){ f2=true;f3=0;while(f2&&f3<t(f0)){!A(q(f0, f3), q(f1, f3))?f2=false:void 0;f3=f3+1;} return f2;} else return false;}
function C(f0, f1){ return f0.getTime()===f1.getTime();}
function D(f0){ const f1=typeof f0;return f1=="function"?0:f1=="boolean"?f0?1:0:f1=="number"?f0:f1=="string"?E(f0):f1=="object"?f0==null?0:f0 instanceof Array?F(f0):G(f0):0;}
function E(f0){ let f1;if(f0===null)return 0;else { f1=5381;for(let f2=0, f3=f0.length-1;f2<=f3;f2++)f1=H(f1, f0[f2].charCodeAt());return f1;} }
function F(f0){ let f1=-34948909;for(let f2=0, f3=t(f0)-1;f2<=f3;f2++)f1=H(f1, D(q(f0, f2)));return f1;}
function G(f0){ if("GetHashCode"in f0)return f0.GetHashCode();else { const f1=[0];let f2;for(var f3 in f0)if(((f4) => { f1[0]=H(H(f1[0], E(f4)), D(f0[f4]));return false;})(f3))break;return f1[0];} }
function H(f0, f1){ return(f0<<5)+f0+f1;}
function I(f0, f1){ if(f0===f1)return 0;else { const f2=typeof f0;switch(f2=="function"?1:f2=="boolean"?2:f2=="number"?2:f2=="string"?2:f2=="object"?3:0){ case 0:return typeof f1=="undefined"?0:-1;case 1:return i("Cannot compare function values.");case 2:return f0<f1?-1:1;case 3:if(f0===null)return -1;else if(f1===null)return 1;else if("CompareTo"in f0)return f0.CompareTo(f1);else if("CompareTo0"in f0)return f0.CompareTo0(f1);else if(f0 instanceof Array&&f1 instanceof Array)return J(f0, f1);else if(f0 instanceof Date&&f1 instanceof Date)return K(f0, f1);else { const f3=[0];let f4;for(var f6 in f0)if(((f7) =>!f0.hasOwnProperty(f7)?false:!f1.hasOwnProperty(f7)?(f3[0]=1,true):(f3[0]=I(f0[f7], f1[f7]),f3[0]!==0))(f6))break;if(f3[0]===0){ let f5;for(var f7 in f1)if(((f8) =>!f1.hasOwnProperty(f8)?false:!f0.hasOwnProperty(f8)&&(f3[0]=-1,true))(f7))break;} return f3[0];} break;} } }
function J(f0, f1){ let f2;let f3;if(t(f0)<t(f1))return -1;else if(t(f0)>t(f1))return 1;else { f2=0;f3=0;while(f2===0&&f3<t(f0)){ f2=I(q(f0, f3), q(f1, f3));f3=f3+1;} return f2;} }
function K(f0, f1){ return I(f0.getTime(), f1.getTime());}
function L(f0){ bg("index");return f0?bh("index", z("main"), f0):void 0;}
function M(f0){ return(f1) => { try {(f0())(f1);} catch(f2){ f1.k(bA(f2));} };}
function N(f0, f1){ return R((f2) => { f0(bz((f3) => { if(f3.$==0){ const f4=f3.$0;W().Fork(() => { try {(f1(f4))(f2);} catch(f5){ f2.k(bA(f5));} });} else W().Fork(() => { f2.k(f3);});}, f2.ct));});}
function O(f0){ return(f1) => { f1.k(bB(f0));};}
function P(f0, f1){ const f2=(T())[0];const f3=f1==null?f2:f1.$0;if(!f3.c)f0(bz((f4) => { if(f4.$==1)U(f4.$0);}, f3));}
function Q(){ return cc.Zero;}
function R(f0){ return(f1) => { if(f1.ct.c)V(f1);else f0(f1);};}
function S(f0){ return(f1) => { const f2=[false];const f3=(f4) => { if(f2[0])i("A continuation provided by Async.FromContinuations was invoked multiple times");else { f2[0]=true;W().Fork(f4);} };f0((f4) => { f3(() => { f1.k(bB(f4));});}, (f4) => { f3(() => { f1.k(bA(f4));});}, (f4) => { f3(() => { f1.k(bC(f4));});});};}
function T(){ return cc.defCTS;}
function U(f0){ console.log("WebSharper: Uncaught asynchronous exception", f0);}
function V(f0){ f0.k(bC(new dq("New", f0.ct)));}
function W(){ return cc.scheduler;}
function X(f0, f1, f2, f3, f4){ const f5=(T())[0];const f6=f4==null?f5:f4.$0;if(!f6.c)f0(bz((f7) => { if(f7.$==1)f2(f7.$0);else if(f7.$==2)f3(f7.$0);else f1(f7.$0);}, f6));}
function Y(f0, f1){ const f2=(T())[0];const f3=f1==null?f2:f1.$0;W().Fork(() => { if(!f3.c)f0(bz((f4) => { if(f4.$==1)U(f4.$0);}, f3));});}
class Z extends o { }
class u0030 extends o { }
class u0031 extends v { name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(this.fillWith.View);} AddAttribute(f0, f1){(f0(f1))(en(this.fillWith));} get AsChoiceView(){ return ez(u0032(String, this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} }
function u0032(f0, f1){ return u0033(() => bI(f0, f1()));}
function u0033(f0){ const f1={c:null, o:f0};return() => { let f2=f1.c;if(f2===null){ f2=f1.o();f1.c=f2;const f3=f2.s;if(f3!=null&&f3.$==0)f1.o=null;else bJ(f2, () => { f1.c=null;});return f2;} else return f2;};}
function u0034(f0){ const f1={s:cW(f0)};return() => f1;}
function u0035(f0, f1){ function f2(){ bP(f1(), f0, () => { W().Fork(f2);});} W().Fork(f2);}
function u0036(f0, f1, f2, f3){ return u0033(() => bQ(f0, f1(), f2(), f3()));}
function u0037(f0){ return u0033(() => bR(ci((f1) => f1(), f0)));}
function u0038(f0, f1, f2){ return u0033(() => bS(f0, f1(), f2()));}
function u0039(f0, f1){ return u0033(() => bT(f0(), f1()));}
function $(){ ba(bb()+1);return"uid"+String(bb());}
function ba(f0){ cZ.counter=f0;}
function bb(){ return cZ.counter;}
function bc(){ ba(bb()+1);return bb();}
let bd=fU((f0) => class f1 { static { bd=f0(this);} static credentialsContainer;static password;static username;static { this.username=w.Create_1("");this.password=w.Create_1("");this.credentialsContainer=globalThis.navigator.credentials;} });
function be(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (f0) => { const f1=Math.random()*16|0;const f2=f0=="x"?f1:f1&3|8;return f2.toString(16);});}
function bf(f0, f1, f2){ const f3=new bF("New_5");const f4=new cd("New_3");const f5=c2(f1);try { while(f5.MoveNext()){ const f6=f5.Current;const f7=f6.Name;f4.SAdd(f7);f3.set_Item(f7, f6);} } finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} return[ce(f1, ct((f8) => { const f9=f8[0];const f_=f8[1];const f$=f8[2];if(f4.Contains(f9))return null;else { const ga=f_===0?cI.GetOrAddHoleFor(f0, f9, () => { const gb=f$==null?null:z(f$.$0);let gc=w.Create_1(gb==null?"":gb.$0);return new u0031(f9, gc);}):f_===1?cI.GetOrAddHoleFor(f0, f9, () => { const gb=f$==null?null:z(f$.$0);let gc=w.Create_1(gb==null?0:gb.$0);return new cJ(f9, gc);}):f_===2?cI.GetOrAddHoleFor(f0, f9, () => { const gb=f$==null?null:z(f$.$0);let gc=w.Create_1(gb==null?false:gb.$0);return new cK(f9, gc);}):f_===3?cI.GetOrAddHoleFor(f0, f9, () => { const gb=f$==null?null:z(f$.$0);let gc=w.Create_1(gb==null?-8640000000000000:gb.$0);return new cL(f9, gc);}):f_===4?cI.GetOrAddHoleFor(f0, f9, () => new cM(f9, w.Create_1([]))):f_===5?cI.GetOrAddHoleFor(f0, f9, () => new cN(f9, w.Create_1(z(globalThis.document.querySelector("[ws-dom="+f9+"]"))))):f_===6?cI.GetOrAddHoleFor(f0, f9, () => { const gb=f$==null?null:z(f$.$0);let gc=w.Create_1(gb==null?[]:gb.$0);return new cO(f9, gc);}):i("Invalid value type");f3.set_Item(f9, ga);return z(ga);} }, f2)), {$:0, $0:f3}];}
function bg(f0){!bi()?(bj(true),bk(globalThis.document.body, "")):void 0;bl().set_Item(f0, bm(""));}
function bh(f0, f1, f2){ let f3;const f4=(f3=null,[bm(f0).TryGetValue(f1==null?"":f1.$0, {get:() => f3, set:(f5) => { f3=f5;}}), f3]);return f4[0]?bn(f4[1].cloneNode(true), f2):(console.warn("Local template doesn't exist", f1),by.Empty);}
function bi(){ return c7.LocalTemplatesLoaded;}
function bj(f0){ c7.LocalTemplatesLoaded=f0;}
function bk(f0, f1){ const f2=bm(f1);const f3=new bF("New_5");const f4=f0.querySelectorAll("[ws-template]");for(let ge=0, gf=f4.length-1;ge<=gf;ge++){ const f5=f4[ge];const f6=f5.getAttribute("ws-template").toLowerCase();f5.removeAttribute("ws-template");f3.set_Item(f6, bo(f5));} const f7=f0.querySelectorAll("[ws-children-template]");for(let gg=0, gh=f7.length-1;gg<=gh;gg++){ const f8=f7[gg];const f9=f8.getAttribute("ws-children-template").toLowerCase();f8.removeAttribute("ws-children-template");f3.set_Item(f9, bp(f8));} const f_=f0.querySelectorAll("template[id]");for(let gi=0, gj=f_.length-1;gi<=gj;gi++){ const f$=f_[gi];f3.set_Item(f$.getAttribute("id").toLowerCase(), bq(f$));} const ga=f0.querySelectorAll("template[name]");for(let gk=0, gl=ga.length-1;gk<=gl;gk++){ const gb=ga[gk];f3.set_Item(gb.getAttribute("name").toLowerCase(), bq(gb));} const gc=new cd("New_3");function gd(gm){ if(!f2.ContainsKey(gm)){ let gn;const go=(gn=null,[f3.TryGetValue(gm, {get:() => gn, set:(gp) => { gn=gp;}}), gn]);if(go[0]){ gc.SAdd(gm);f3.RemoveKey(gm);br(f1, z(gm), go[1], z(gd));} else console.warn(gc.Contains(gm)?"Encountered loop when instantiating "+gm:"Local template does not exist: "+gm);} } while(f3.count>0)gd(cf(f3.Keys));}
function bl(){ return c7.LoadedTemplates;}
function bm(f0){ let f1;const f2=(f1=null,[bl().TryGetValue(f0, {get:() => f1, set:(f4) => { f1=f4;}}), f1]);if(f2[0])return f2[1];else { const f3=new bF("New_5");bl().set_Item(f0, f3);return f3;} }
function bn(f0, f1){ let f2;const f3=bs(f0, ce(f1, bt().Values));const f4=f3[1];const f5=f3[0];const f6=f5.Els;return!A(f6, null)&&f6.length===1&&(q(f6, 0)instanceof Node&&(A(q(f6, 0).nodeType, Node.ELEMENT_NODE)&&(f2=q(f6, 0),true)))?ds.TreeNode(f5, f4):by.Mk(cQ(f5), f4);}
function bo(f0){ f0.removeAttribute("ws-template");const f1=f0.getAttribute("ws-replace");if(f1==null){ } else { f0.removeAttribute("ws-replace");const f2=f0.parentNode;if(A(f2, null)){ } else { const f3=globalThis.document.createElement(f0.tagName);f3.setAttribute("ws-replace", f1);f2.replaceChild(f3, f0);} } const f4=globalThis.document.createElement("div");f4.appendChild(f0);return f4;}
function bp(f0){ const f1=globalThis.document.createElement("div");while(f0.hasChildNodes())f1.appendChild(f0.firstChild);return f1;}
function bq(f0){ const f1=globalThis.document.createElement("div");const f2=f0.content;for(let f3=0, f4=f2.childNodes.length-1;f3<=f4;f3++)f1.appendChild(f2.childNodes[f3].cloneNode(true));return f1;}
function br(f0, f1, f2, f3){ const f4=new cd("New_3");function f5(ga, gb){ while(true)switch(ga){ case 0:if(gb!==null){ const gc=gb.nextSibling;if(A(gb.nodeType, Node.TEXT_NODE))dt(gb);else if(A(gb.nodeType, Node.ELEMENT_NODE))f7(gb);gb=gc;} else return null;break;case 1:const gd=dB(gb.nodeName, z(3), null).toLowerCase();const ge=gd.indexOf(".");const gf=ge===-1?[f0, gd]:[dB(gd, null, z(ge-1)), dB(gd, z(ge+1), null)];const gg=gf[1];const gh=gf[0];if(gh!=""&&!bl().ContainsKey(gh))return du(gg);else { if(gh==""&&f3!=null)f3.$0(gg);const gi=bl().Item(gh);if(!gi.ContainsKey(gg))return du(gg);else { const gj=gi.Item(gg);const gk=gj.cloneNode(true);const gl=new cd("New_3");const gm=new bF("New_5");const gn=gb.attributes;for(let gx=0, gy=gn.length-1;gx<=gy;gx++){ const go=gn.item(gx).name.toLowerCase();const gp=gn.item(gx).nodeValue;let gq=gp==""?go:gp.toLowerCase();gm.set_Item(go, gq);if(!gl.SAdd(go))console.warn("Hole mapped twice", go);} for(let gz=0, gA=gb.childNodes.length-1;gz<=gA;gz++){ const gr=gb.childNodes[gz];if(A(gr.nodeType, Node.ELEMENT_NODE))if(!gl.SAdd(gr.nodeName.toLowerCase()))console.warn("Hole filled twice", gg);} const gs=gb.childNodes.length===1&&A(gb.firstChild.nodeType, Node.TEXT_NODE);if(gs){ const gt=dv(gk, gb.firstChild.textContent, gg);const gu=((gB) =>(gC) => gB.SAdd(gC))(gl);let gv=((gB) =>(gC) => { if(gC!=null)gB(gC.$0);})((gB) => { gu(gB);});gv(gt);} dw(gk, gl);if(!gs){ for(let gB=0, gC=gb.childNodes.length-1;gB<=gC;gB++){ const gw=gb.childNodes[gB];if(A(gw.nodeType, Node.ELEMENT_NODE))if(gw.hasAttributes())dx(gk, gw);else f6(gk, gw);} } dy(gk, gm);dz(gk, gb.parentNode, gb);gb.parentNode.removeChild(gb);return;} } break;} } function f6(ga, gb){ const gc=gb.nodeName.toLowerCase();const gd=(gh, gi) => { if(gc=="title"&&gb.hasChildNodes()){ const gj=dC(gb.textContent);gb.removeChild(gb.firstChild);while(gj.hasChildNodes())gb.appendChild(gj.firstChild);} f7(gb);return dz(gb, gh, gi);};bu(ga, "[ws-attr-holes]", (gh) => { const gi=b7(gh.getAttribute("ws-attr-holes"), [" "], 1);for(let gm=0, gn=gi.length-1;gm<=gn;gm++){ const gj=q(gi, gm);let gk=new RegExp("\\${"+gc+"}", "ig");let gl=gh.getAttribute(gj).replace(gk, gb.textContent);gh.setAttribute(gj, gl);} });const ge=ga.querySelector("[ws-hole="+gc+"]");if(A(ge, null)){ const gf=ga.querySelector("[ws-replace="+gc+"]");if(A(gf, null)){ const gg=ga.querySelector("slot[name="+gc+"]");return ga.tagName.toLowerCase()=="template"?(gd(gg.parentNode, gg),void gg.parentNode.removeChild(gg)):null;} else { gd(gf.parentNode, gf);gf.parentNode.removeChild(gf);return;} } else { while(ge.hasChildNodes())ge.removeChild(ge.lastChild);ge.removeAttribute("ws-hole");return gd(ge, null);} } function f7(ga){ if(!ga.hasAttribute("ws-preserve"))if(b8(ga.nodeName.toLowerCase(), "ws-"))f9(ga);else { dA(ga);f8(ga.firstChild);} } function f8(ga){ return f5(0, ga);} function f9(ga){ return f5(1, ga);} function f_(ga){ while(true){ const gb=ga.querySelector("[ws-template]");if(A(gb, null)){ const gc=ga.querySelector("[ws-children-template]");if(A(gc, null)){ const gd=ga.querySelectorAll("template[id]");for(let gj=1, gk=gd.length-1;gj<=gk;gj++){ const ge=gd[gj];if(f4.Contains(ge)){ } else { br(f0, z(ge.getAttribute("id")), ge, null);f4.SAdd(ge);} } const gf=ga.querySelectorAll("template[name]");for(let gl=1, gm=gf.length-1;gl<=gm;gl++){ const gg=gf[gl];if(f4.Contains(gg)){ } else { br(f0, z(gg.getAttribute("name")), gg, null);f4.SAdd(gg);} } return null;} else { const gh=gc.getAttribute("ws-children-template");gc.removeAttribute("ws-children-template");br(f0, z(gh), gc, null);ga=ga;} } else { const gi=gb.getAttribute("ws-template");(bv(f0, z(gi), gb))(null);ga=ga;} } } const f$=(f1==null?"":f1.$0).toLowerCase();bm(f0).set_Item(f$, f2);if(f2.hasChildNodes()){ f_(f2);f8(f2.firstChild);} }
function bs(f0, f1){ let f2;const f3=[];const f4=[];const f5=[];const f6=[];const f7=new bF("New_5");const f8=c2(f1);try { while(f8.MoveNext()){ const f9=f8.Current;f7.set_Item(f9.Name, f9);} } finally { if(typeof f8=="object"&&a(f8))f8.Dispose();} let f_=dD(f0);const f$=(gi, gj) => { const gk=d1(gi, gj);f4.push(d2(gk));f5.push([gi, gk]);const gl=fV(gk.OnAfterRender);if(gl==null)return null;else { const gm=gl.$0;f6.push(() => { gm(gi);});return;} };const ga=(gi) => { let gj;const gk=(gj=null,[f7.TryGetValue(gi, {get:() => gj, set:(gn) => { gj=gn;}}), gj]);if(gk[0]){ const gl=gk[1];if(gl instanceof eg)return z(gl.Value);else if(gl instanceof eh)return z(by.TextNode(gl.Value));else { const gm=gl.ForTextView();return gm==null?null:z(by.TextView(gm.$0));} } else return null;};bu(f0, "[ws-hole]", (gi) => { const gj=gi.getAttribute("ws-hole");gi.removeAttribute("ws-hole");while(gi.hasChildNodes())gi.removeChild(gi.lastChild);const gk=ga(gj);if(gk!=null&&gk.$==1){ const gl=gk.$0;c8(gi, gl.docNode);f3.push(dr.New(d3(gi), gl.docNode, null, gi, bc(), null));f4.push(gl.updates);} });bu(f0, "[ws-replace]", (gi) => { const gj=ga(gi.getAttribute("ws-replace"));if(gj!=null&&gj.$==1){ const gk=gj.$0;const gl=gi.parentNode;const gm=globalThis.document.createTextNode("");gl.replaceChild(gm, gi);const gn=db(gm, gk.docNode);f_=dD(f0);const go=cu((gp) => gi===gp, f_);if(go==null){ } else r(f_, go.$0, gk.docNode);f3.push(dr.New(d3(gl), gk.docNode, z([gn, gm]), gl, bc(), null));f4.push(gk.updates);} });let gb=false;bu(f0, "slot", (gi) => { const gj=gi.getAttribute("name");const gk=gj==""||gj==null?"default":gj.toLowerCase();if(gb&&gk=="default"||!A(f0.parentElement, null)){ } else { while(gi.hasChildNodes())gi.removeChild(gi.lastChild);if(gk=="default")gb=true;const gl=ga(gk);if(gl!=null&&gl.$==1){ const gm=gl.$0;c8(gi, gm.docNode);f3.push(dr.New(d3(gi), gm.docNode, null, gi, bc(), null));f4.push(gm.updates);} } });bu(f0, "[ws-attr]", (gi) => { let gj;const gk=gi.getAttribute("ws-attr");gi.removeAttribute("ws-attr");const gl=(gj=null,[f7.TryGetValue(gk, {get:() => gj, set:(gn) => { gj=gn;}}), gj]);if(gl[0]){ const gm=gl[1];if(gm instanceof ei)f$(gi, gm.Value);else console.warn("Attribute hole filled with non-attribute data", gk);} });bu(f0, "[ws-on]", (gi) => { f$(gi, ew.Concat(ct((gj) => { let gk;const gl=b7(gj, [":"], 1);const gm=(gk=null,[f7.TryGetValue(q(gl, 1), {get:() => gk, set:(go) => { gk=go;}}), gk]);if(gm[0]){ const gn=gm[1];return gn instanceof ej?z(ek(q(gl, 0), gn.Value)):gn instanceof ev?z(ew.Handler(q(gl, 0), gn.Value)):(console.warn("Event hole on"+q(gl, 0)+" filled with non-event data", q(gl, 1)),null);} else return null;}, b7(gi.getAttribute("ws-on"), [" "], 1))));gi.removeAttribute("ws-on");});bu(f0, "[ws-onafterrender]", (gi) => { let gj;const gk=gi.getAttribute("ws-onafterrender");const gl=(gj=null,[f7.TryGetValue(gk, {get:() => gj, set:(gn) => { gj=gn;}}), gj]);if(gl[0]){ const gm=gl[1];if(gm instanceof ex){ gi.removeAttribute("ws-onafterrender");f$(gi, el(gm.Value));} else if(gm instanceof bG){ gi.removeAttribute("ws-onafterrender");f$(gi, el(gm.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gk);} });bu(f0, "[ws-var]", (gi) => { let gj;const gk=gi.getAttribute("ws-var");gi.removeAttribute("ws-var");const gl=(gj=null,[f7.TryGetValue(gk, {get:() => gj, set:(gm) => { gj=gm;}}), gj]);if(gl[0])gl[1].AddAttribute((gm) =>(gn) => f$(gm, gn), gi);});const gc=() => { bw("[ws-dom]", (gi) => { let gj;let gk;let gl;const gm=(gj=null,[f7.TryGetValue(gi.getAttribute("ws-dom").toLowerCase(), {get:() => gj, set:(gq) => { gj=gq;}}), gj]);if(gm[0]){ const gn=gm[1];if(gn instanceof cN){ const go=gn.Value;gi.removeAttribute("ws-dom");gk=gi;const gp=new MutationObserver((gq, gr) => { cy((gs) => { gs.removedNodes.forEach(fW((gt) => gt[0]===gk&&gs.addedNodes.length!==1?(go.SetFinal(null),gr.disconnect()):null), null);}, gq);});if(gi.parentElement!==null)gp.observe(gi.parentElement, (gl={},gl.childList=true,gl));go.Set(z(gi));u0035((gq) => { if(gq!=null&&gq.$==1){ const gr=gq.$0;if(gk===gr){ } else { gk.replaceWith(gr);gk=gr;} } else { gk.remove();gp.disconnect();} }, go.View);} } });};bu(f0, "[ws-attr-holes]", (gi) => { const gj=new RegExp(bx(), "g");const gk=b7(gi.getAttribute("ws-attr-holes"), [" "], 1);gi.removeAttribute("ws-attr-holes");for(let gl=0, gm=gk.length-1;gl<=gm;gl++)((() => { let gn;const go=q(gk, gl);const gp=gi.getAttribute(go);let gq=null;let gr=0;const gs=[];while(gq=gj.exec(gp),gq!==null){ const gt=dB(gp, z(gr), z(gj.lastIndex-q(gq, 0).length-1));gr=gj.lastIndex;gs.push([gt, q(gq, 1)]);} const gu=dB(gp, z(gr), null);gj.lastIndex=0;const gv=cz((gA, gB) =>(((gC) => { const gD=gC[0];const gE=gC[1];return(gF) => { let gG;const gH=gF[0];const gI=gF[1];const gJ=(gG=null,[f7.TryGetValue(gE, {get:() => gG, set:(gL) => { gG=gL;}}), gG]);const gK=gJ[0]?gJ[1].AsChoiceView:ey("");return gK.$==1?[gD, eA.Cons(gH==""?gK.$0:u0032((gL) => gL+gH, gK.$0), gI)]:[gD+gK.$0+gH, gI];};})(gA))(gB), gs, [gu, eA.Empty]);if(gv[1].$==1){ if(gv[1].$1.$==1){ if(gv[1].$1.$1.$==1){ if(gv[1].$1.$1.$1.$==0){ const gw=gv[0];gn=em(go, u0036((gA, gB, gC) => gw+gA+gB+gC, gv[1].$0, gv[1].$1.$0, gv[1].$1.$1.$0));} else { const gx=gv[0];gn=em(go, u0032((gA) => gx+b6("", gA), u0037(gv[1])));} } else { const gy=gv[0];gn=em(go, u0038((gA, gB) => gy+gA+gB, gv[1].$0, gv[1].$1.$0));} } else if(gv[0]=="")gn=em(go, gv[1].$0);else { const gz=gv[0];gn=em(go, u0032((gA) => gz+gA, gv[1].$0));} } else gn=ew.Create(go, gv[0]);return f$(gi, gn);})());});let gd=f_;const ge=f6.length==0?z(() => { gc();}):z((gi) => { gc();cy((gj) => { gj(gi);}, f6);});const gf=!A(f_, null)&&f_.length===1&&(q(f_, 0)instanceof Node&&(q(f_, 0)instanceof Element&&(f2=q(f_, 0),true)))?z(f2):null;let gg={Els:gd, Dirty:true, Holes:f3, Attrs:f5, Render:ge?ge.$0:void 0, El:gf?gf.$0:void 0};let gh=fX(gg, ["Render", "El"]);return[gh, eB(u0034(), u0039, f4)];}
function bt(){ return c7.GlobalHoles;}
function bu(f0, f1, f2){ dJ(f0, f1, (f3) => { if(f3.closest("[ws-preserve]")==null)f2(f3);});}
function bv(f0, f1, f2){ const f3=bo(f2);return(f4) => { br(f0, f1, f3, f4);};}
function bw(f0, f1){ dK(f0, (f2) => { if(f2.closest("[ws-preserve]")==null)f1(f2);});}
function bx(){ return c7.TextHoleRE;}
class by extends o { docNode;updates;static RunById(f0, f1){ const f2=globalThis.document.getElementById(f0);if(A(f2, null))i("invalid id: "+f0);else by.Run(f2, f1);} static Run(f0, f1){ c8(f0, f1.docNode);by.RunInPlace(false, f0, f1);} static get Empty(){ return by.Mk(null, u0034());} static RunInPlace(f0, f1, f2){ const f3=c_(f1, f2.docNode);u0035(dR()||dY()?dZ(c$(f0, f3, f2.docNode)):() => { da(f0, f3, f2.docNode);}, f2.updates);} static Mk(f0, f1){ return new by(f0, f1);} static TextNode(f0){ return by.Mk(cR(globalThis.document.createTextNode(f0)), u0034());} static TextView(f0){ const f1=dj();return by.Mk(cS(f1), u0032((f2) => { dk(f1, f2);}, f0));} constructor(f0, f1){ super();this.docNode=f0;this.updates=f1;} }
function bz(f0, f1){ return{k:f0, ct:f1};}
function bA(f0){ return{$:1, $0:f0};}
function bB(f0){ return{$:0, $0:f0};}
function bC(f0){ return{$:2, $0:f0};}
class bD extends Error { reason;constructor(f0){ super("Promise rejected");this.reason=f0;} }
function bE(f0, f1){ return{c:f0, r:f1};}
class bF extends o { equals;hash;count;data;set_Item(f0, f1){ this.set(f0, f1);} set(f0, f1){ const f2=this.hash(f0);const f3=this.data[f2];if(f3==null){ this.count=this.count+1;this.data[f2]=new Array({K:f0, V:f1});} else { const f4=cu((f5) => this.equals.apply(null, [(j(f5))[0], f0]), f3);if(f4==null){ this.count=this.count+1;f3.push({K:f0, V:f1});} else f3[f4.$0]={K:f0, V:f1};} } TryGetValue(f0, f1){ const f2=this.data[this.hash(f0)];if(f2==null)return false;else { const f3=cv((f4) => { const f5=j(f4);return this.equals.apply(null, [f5[0], f0])?z(f5[1]):null;}, f2);return f3!=null&&f3.$==1&&(f1.set(f3.$0),true);} } ContainsKey(f0){ const f1=this.data[this.hash(f0)];return f1==null?false:cw((f2) => this.equals.apply(null, [(j(f2))[0], f0]), f1);} RemoveKey(f0){ return this.remove(f0);} get Keys(){ return new dQ(this);} GetEnumerator(){ return c5(cx(y(this.data)));} get Values(){ return new eF(this);} remove(f0){ const f1=this.hash(f0);const f2=this.data[f1];if(f2==null)return false;else { const f3=cB((f4) =>!this.equals.apply(null, [(j(f4))[0], f0]), f2);return t(f3)<f2.length&&(this.count=this.count-1,this.data[f1]=f3,true);} } Item(f0){ return this.get(f0);} get(f0){ const f1=this.data[this.hash(f0)];return f1==null?c1():cD((f2) => { const f3=j(f2);return this.equals.apply(null, [f3[0], f0])?z(f3[1]):null;}, f1);} static New_5(){ return new this("New_5");} static New_6(f0, f1, f2){ return new this("New_6", f0, f1, f2);} constructor(f0, f1, f2, f3){ if(f0=="New_5"){ f0="New_6";f1=[];f2=A;f3=D;} if(f0=="New_6"){ const f4=f1;const f5=f2;const f6=f3;super();this.equals=f5;this.hash=f6;this.count=0;this.data=[];const f7=c2(f4);try { while(f7.MoveNext()){ const f8=f7.Current;this.set(f8.K, f8.V);} } finally { if(typeof f7=="object"&&a(f7))f7.Dispose();} } } }
class bG extends v { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} }
class bH extends Z { isConst;current;snap;view;id;Get(){ return this.current;} Update(f0){ this.Set(f0(this.Get()));} Set(f0){ if(this.isConst)(((f1) => f1("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f1) => { console.log(f1);}));else { cY(this.snap);this.current=f0;this.snap={s:cV(f0, [])};} } UpdateMaybe(f0){ const f1=f0(this.Get());if(f1!=null&&f1.$==1)this.Set(f1.$0);} get View(){ return this.view;} SetFinal(f0){ if(this.isConst)(((f1) => f1("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f1) => { console.log(f1);}));else { cY(this.snap);this.isConst=true;this.current=f0;this.snap={s:cW(f0)};} } constructor(f0, f1, f2){ super();this.isConst=f0;this.current=f2;this.snap=f1;this.view=() => this.snap;this.id=bc();} }
function bI(f0, f1){ const f2=f1.s;if(f2!=null&&f2.$==0)return{s:cW(f0(f2.$0))};else { const f3={s:cX([], [])};bK(f1, (f4) => { bL(f3, f1, f0(f4));}, f3);return f3;} }
function bJ(f0, f1){ const f2=f0.s;if(f2==null)f1();else f2!=null&&f2.$==2?f2.$1.push(f1):f2!=null&&f2.$==3?f2.$1.push(f1):void 0;}
function bK(f0, f1, f2){ const f3=f0.s;if(f3==null)cY(f2);else f3!=null&&f3.$==2?(bM(f3.$1, f2),f1(f3.$0)):f3!=null&&f3.$==3?(f3.$0.push(f1),bM(f3.$1, f2)):f1(f3.$0);}
function bL(f0, f1, f2){ const f3=f1.s;if(f3!=null&&f3.$==0)bN(f0, f2);else bO(f0, f2);}
function bM(f0, f1){ f0.push(f1);if(f0.length%20===0){ const f2=f0.slice(0);eY(f0);for(let f4=0, f5=t(f2)-1;f4<=f5;f4++){ const f3=q(f2, f4);if(typeof f3=="object")(((f6) => { if(f6.s)f0.push(f6);})(f3));else(((f6) => { f0.push(f6);})(f3));} } else void 0;}
function bN(f0, f1){ const f2=f0.s;if(f2!=null&&f2.$==3){ f0.s=cW(f1);const f3=f2.$0;for(let f4=0, f5=t(f3)-1;f4<=f5;f4++)(q(f3, f4))(f1);} else void 0;}
function bO(f0, f1){ const f2=f0.s;if(f2!=null&&f2.$==3){ f0.s=cV(f1, f2.$1);const f3=f2.$0;for(let f4=0, f5=t(f3)-1;f4<=f5;f4++)(q(f3, f4))(f1);} else void 0;}
function bP(f0, f1, f2){ const f3=f0.s;if(f3==null)f2();else f3!=null&&f3.$==2?(f3.$1.push(f2),f1(f3.$0)):f3!=null&&f3.$==3?(f3.$0.push(f1),f3.$1.push(f2)):f1(f3.$0);}
function bQ(f0, f1, f2, f3){ const f4=f1.s;const f5=f2.s;const f6=f3.s;if(f4!=null&&f4.$==0)return f5!=null&&f5.$==0?f6!=null&&f6.$==0?{s:cW(f0(f4.$0, f5.$0, f6.$0))}:bV(f0, f4.$0, f5.$0, f3):f6!=null&&f6.$==0?bW(f0, f4.$0, f6.$0, f2):bX(f0, f4.$0, f2, f3);else if(f5!=null&&f5.$==0)return f6!=null&&f6.$==0?bY(f0, f5.$0, f6.$0, f1):bZ(f0, f5.$0, f1, f3);else if(f6!=null&&f6.$==0)return b0(f0, f6.$0, f1, f2);else { const f7={s:cX([], [])};const f8=() => { const f9=f7.s;if(!(f9!=null&&f9.$==0||f9!=null&&f9.$==2)){ const f_=b1(f1);const f$=b1(f2);const ga=b1(f3);if(f_!=null&&f_.$==1)if(f$!=null&&f$.$==1)if(ga!=null&&ga.$==1)if(f_.$0[1]&&f$.$0[1]&&ga.$0[1])bN(f7, f0(f_.$0[0], f$.$0[0], ga.$0[0]));else bO(f7, f0(f_.$0[0], f$.$0[0], ga.$0[0]));} };bK(f1, f8, f7);bK(f2, f8, f7);bK(f3, f8, f7);return f7;} }
function bR(f0){ const f1=cC(f0);if(f1.length==0)return{s:cW([])};else { const f2={s:cX([], [])};const f3=[t(f1)-1];const f4=() => { if(f3[0]===0){ const f5=cA((f6) => { const f7=f6.s;return f7!=null&&f7.$==0?f7.$0:f7!=null&&f7.$==2?f7.$0:i("value not found by View.Sequence");}, f1);if(cF((f6) => { const f7=f6.s;return f7!=null&&f7.$==0;}, f1))bN(f2, f5);else bO(f2, f5);} else f3[0]=f3[0]-1;};cy((f5) => { bK(f5, f4, f2);}, f1);return f2;} }
function bS(f0, f1, f2){ const f3=f1.s;const f4=f2.s;if(f3!=null&&f3.$==0)return f4!=null&&f4.$==0?{s:cW(f0(f3.$0, f4.$0))}:b2(f0, f3.$0, f2);else if(f4!=null&&f4.$==0)return b3(f0, f4.$0, f1);else { const f5={s:cX([], [])};const f6=() => { const f7=f5.s;if(!(f7!=null&&f7.$==0||f7!=null&&f7.$==2)){ const f8=b1(f1);const f9=b1(f2);if(f8!=null&&f8.$==1)if(f9!=null&&f9.$==1)if(f8.$0[1]&&f9.$0[1])bN(f5, f0(f8.$0[0], f9.$0[0]));else bO(f5, f0(f8.$0[0], f9.$0[0]));} };bK(f1, f6, f5);bK(f2, f6, f5);return f5;} }
function bT(f0, f1){ const f2=f0.s;const f3=f1.s;if(f2!=null&&f2.$==0)return f3!=null&&f3.$==0?{s:cW(null)}:f1;else if(f3!=null&&f3.$==0)return f0;else { const f4={s:cX([], [])};const f5=() => { const f6=f4.s;if(!(f6!=null&&f6.$==0||f6!=null&&f6.$==2)){ const f7=b1(f0);const f8=b1(f1);if(f7!=null&&f7.$==1)if(f8!=null&&f8.$==1)if(f7.$0[1]&&f8.$0[1])bN(f4, null);else bO(f4, null);} };bK(f0, f5, f4);bK(f1, f5, f4);return f4;} }
function bU(f0){ const f1=f0.s;if(f1==null)return f0;else if(f1!=null&&f1.$==2){ const f2={s:cV(f1.$0, [])};b4(f0, f2);return f2;} else if(f1!=null&&f1.$==3){ const f3={s:cX([], [])};bK(f0, (f4) => { bL(f3, f0, f4);}, f3);return f3;} else return f0;}
function bV(f0, f1, f2, f3){ return bI((f4) => f0(f1, f2, f4), f3);}
function bW(f0, f1, f2, f3){ return bI((f4) => f0(f1, f4, f2), f3);}
function bX(f0, f1, f2, f3){ return bS((f4, f5) => f0(f1, f4, f5), f2, f3);}
function bY(f0, f1, f2, f3){ return bI((f4) => f0(f4, f1, f2), f3);}
function bZ(f0, f1, f2, f3){ return bS((f4, f5) => f0(f4, f1, f5), f2, f3);}
function b0(f0, f1, f2, f3){ return bS((f4, f5) => f0(f4, f5, f1), f2, f3);}
function b1(f0){ const f1=f0.s;return f1!=null&&f1.$==0?z([f1.$0, true]):f1!=null&&f1.$==2?z([f1.$0, false]):null;}
function b2(f0, f1, f2){ return bI((f3) => f0(f1, f3), f2);}
function b3(f0, f1, f2){ return bI((f3) => f0(f3, f1), f2);}
function b4(f0, f1){ const f2=f0.s;if(f2==null)cY(f1);else f2!=null&&f2.$==2?bM(f2.$1, f1):f2!=null&&f2.$==3?bM(f2.$1, f1):void 0;}
function b5(f0){ return f0==null||(new RegExp("^\\s*$")).test(f0);}
function b6(f0, f1){ return cC(f1).join(f0);}
function b7(f0, f1, f2){ return b9(f0, new RegExp("["+b_(f1.join(""))+"]"), f2);}
function b8(f0, f1){ return f0.substring(0, f1.length)==f1;}
function b9(f0, f1, f2){ return f2===1?cB((f3) => f3!=="", b$(f0, f1)):b$(f0, f1);}
function b_(f0){ return f0.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function b$(f0, f1){ return f0.split(f1);}
function ca(f0, f1){ return cr(f0, cb(f1));}
function cb(f0){ return f0==null?"":f0;}
let cc=fU((f0) => class f1 { static { cc=f0(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bE(false, []);this.scheduler=new cP();this.defCTS=[new c0()];this.Zero=O();this.GetCT=(f2) => { f2.k(bB(f2.ct));};} });
class cd extends o { equals;hash;data;count;SAdd(f0){ return this.add(f0);} Contains(f0){ const f1=this.data[this.hash(f0)];return f1==null?false:this.arrContains(f0, f1);} add(f0){ const f1=this.hash(f0);const f2=this.data[f1];return f2==null?(this.data[f1]=[f0],this.count=this.count+1,true):this.arrContains(f0, f2)?false:(f2.push(f0),this.count=this.count+1,true);} arrContains(f0, f1){ let f2=true;let f3=0;const f4=f1.length;while(f2&&f3<f4)if(this.equals.apply(null, [f1[f3], f0]))f2=false;else f3=f3+1;return!f2;} GetEnumerator(){ return c2(eX(this.data));} ExceptWith(f0){ const f1=c2(f0);try { while(f1.MoveNext())this.Remove(f1.Current);} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} } get Count(){ return this.count;} IntersectWith(f0){ const f1=new cd("New_4", f0, this.equals, this.hash);const f2=eX(this.data);for(let f4=0, f5=f2.length-1;f4<=f5;f4++){ const f3=f2[f4];if(!f1.Contains(f3))this.Remove(f3);} } Remove(f0){ const f1=this.data[this.hash(f0)];return f1==null?false:this.arrRemove(f0, f1)&&(this.count=this.count-1,true);} CopyTo(f0, f1){ const f2=eX(this.data);for(let f3=0, f4=f2.length-1;f3<=f4;f3++)r(f0, f3+f1, f2[f3]);} arrRemove(f0, f1){ let f2=true;let f3=0;const f4=f1.length;while(f2&&f3<f4)if(this.equals.apply(null, [f1[f3], f0])){ f1.splice(f3, 1);f2=false;} else f3=f3+1;return!f2;} static New_3(){ return new this("New_3");} static New_4(f0, f1, f2){ return new this("New_4", f0, f1, f2);} static New_2(f0){ return new this("New_2", f0);} constructor(f0, f1, f2, f3){ if(f0=="New_3"){ f0="New_4";f1=[];f2=A;f3=D;} let f4;if(f0=="New_2"){ f4=f1;f0="New_4";f1=f4;f2=A;f3=D;} if(f0=="New_4"){ const f5=f1;const f6=f2;const f7=f3;super();this.equals=f6;this.hash=f7;this.data=[];this.count=0;const f8=c2(f5);try { while(f8.MoveNext())this.add(f8.Current);} finally { if(typeof f8=="object"&&a(f8))f8.Dispose();} } } }
function ce(f0, f1){ return{GetEnumerator:() => { const f2=c2(f0);const f3=[true];return new c6(f2, null, (f4) => { if(f4.s.MoveNext()){ f4.c=f4.s.Current;return true;} else { const f5=f4.s;if(!A(f5, null))f5.Dispose();f4.s=null;return f3[0]&&(f3[0]=false,f4.s=c2(f1),f4.s.MoveNext()?(f4.c=f4.s.Current,true):(f4.s.Dispose(),f4.s=null,false));} }, (f4) => { const f5=f4.s;if(!A(f5, null))f5.Dispose();});}};}
function cf(f0){ const f1=c2(f0);try { return f1.MoveNext()?f1.Current:dN();} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} }
function cg(f0, f1, f2){ let f3=f1;const f4=c2(f2);try { while(f4.MoveNext())f3=f0(f3, f4.Current);return f3;} finally { if(typeof f4=="object"&&a(f4))f4.Dispose();} }
function ch(f0, f1){ const f2=c2(f1);try { while(f2.MoveNext())f0(f2.Current);} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} }
function ci(f0, f1){ return{GetEnumerator:() => { const f2=c2(f1);return new c6(null, null, (f3) => f2.MoveNext()&&(f3.c=f0(f2.Current),true), () => { f2.Dispose();});}};}
function cj(f0){ return{GetEnumerator:() => c2(f0())};}
function ck(f0, f1){ return cm(ci(f0, f1));}
function cl(f0){ const f1=c2(f0);try { if(!f1.MoveNext())co();let f2=f1.Current;while(f1.MoveNext()){ const f3=f1.Current;if(I(f3, f2)===1)f2=f3;} return f2;} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} }
function cm(f0){ return{GetEnumerator:() => { const f1=c2(f0);function f2(f3){ while(true){ const f4=f3.s;if(A(f4, null)){ if(f1.MoveNext()){ f3.s=c2(f1.Current);f3=f3;} else { f1.Dispose();return false;} } else if(f4.MoveNext()){ f3.c=f4.Current;return true;} else { f3.Dispose();f3.s=null;f3=f3;} } } return new c6(null, null, f2, (f3) => { const f4=f3.s;if(!A(f4, null))f4.Dispose();if(!A(f1, null))f1.Dispose();});}};}
function cn(f0, f1){ return cp(f0, cq(f1));}
function co(){ return i("The input sequence was empty.");}
function cp(f0, f1){ f0<0?dP():void 0;return{GetEnumerator:() => { const f2=[c2(f1)];return new c6(0, null, (f3) => { f3.s=f3.s+1;if(f3.s>f0)return false;else { const f4=f2[0];return A(f4, null)?dN():f4.MoveNext()?(f3.c=f4.Current,f3.s===f0?(f4.Dispose(),f2[0]=null):void 0,true):(f4.Dispose(),f2[0]=null,dN());} }, () => { const f3=f2[0];if(!A(f3, null))f3.Dispose();});}};}
function cq(f0){ return{GetEnumerator:() => new c6(0, null, (f1) => { f1.c=f0(f1.s);f1.s=f1.s+1;return true;}, void 0)};}
function cr(f0, f1){ return!cs((f2) =>!f0(f2), f1);}
function cs(f0, f1){ const f2=c2(f1);try { let f3=false;while(!f3&&f2.MoveNext())f3=f0(f2.Current);return f3;} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} }
function ct(f0, f1){ const f2=[];for(let f4=0, f5=f1.length-1;f4<=f5;f4++){ const f3=f0(f1[f4]);if(f3==null){ } else f2.push(f3.$0);} return f2;}
function cu(f0, f1){ let f2=null;let f3=0;while(f3<f1.length&&f2==null){ f0(f1[f3])?f2=z(f3):void 0;f3=f3+1;} return f2;}
function cv(f0, f1){ let f2=null;let f3=0;while(f3<f1.length&&f2==null){ const f4=f0(f1[f3]);if(f4!=null&&f4.$==1)f2=f4;f3=f3+1;} return f2;}
function cw(f0, f1){ let f2=false;let f3=0;while(!f2&&f3<t(f1))if(f0(f1[f3]))f2=true;else f3=f3+1;return f2;}
function cx(f0){ return Array.prototype.concat.apply([], cC(f0));}
function cy(f0, f1){ for(let f2=0, f3=f1.length-1;f2<=f3;f2++)f0(f1[f2]);}
function cz(f0, f1, f2){ let f3=f2;const f4=f1.length;for(let f5=1, f6=f4;f5<=f6;f5++)f3=f0(f1[f4-f5], f3);return f3;}
function cA(f0, f1){ const f2=new Array(f1.length);for(let f3=0, f4=f1.length-1;f3<=f4;f3++)f2[f3]=f0(f1[f3]);return f2;}
function cB(f0, f1){ const f2=[];for(let f3=0, f4=f1.length-1;f3<=f4;f3++)if(f0(f1[f3]))f2.push(f1[f3]);return f2;}
function cC(f0){ if(f0 instanceof Array)return f0.slice();else if(f0 instanceof eA)return cE(f0);else { const f1=[];const f2=c2(f0);try { while(f2.MoveNext())f1.push(f2.Current);return f1;} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} } }
function cD(f0, f1){ const f2=cv(f0, f1);return f2==null?i("KeyNotFoundException"):f2.$0;}
function cE(f0){ const f1=[];let f2=f0;while(!(f2.$==0)){ f1.push(fb(f2));f2=fc(f2);} return f1;}
function cF(f0, f1){ let f2=true;let f3=0;while(f2&&f3<t(f1))if(f0(f1[f3]))f3=f3+1;else f2=false;return f2;}
function cG(f0, f1){ const f2=new Array(f0);for(let f3=0, f4=f0-1;f3<=f4;f3++)f2[f3]=f1;return f2;}
function cH(f0, f1){ if(f0<0)i("Negative size given.");else null;const f2=new Array(f0);for(let f3=0, f4=f0-1;f3<=f4;f3++)f2[f3]=f1(f3);return f2;}
let cI=fU((f0) => class f1 extends o { static { cI=f0(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(f2, f3, f4){ let f5;const f6=cI.GetHolesFor(f2);const f7=(f5=null,[f6.TryGetValue(f3, {get:() => f5, set:(f9) => { f5=f9;}}), f5]);if(f7[0])return f7[1];else { const f8=f4();f6.set_Item(f3, f8);return f8;} } static GetHolesFor(f2){ let f3;const f4=(f3=null,[cI.initialized.TryGetValue(f2, {get:() => f3, set:(f6) => { f3=f6;}}), f3]);if(f4[0])return f4[1];else { const f5=new bF("New_5");cI.initialized.set_Item(f2, f5);return f5;} } static { cI.initialized=new bF("New_5");cI.instances=new bF("New_5");} });
class cJ extends v { name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(u0032(String, this.fillWith.View));} AddAttribute(f0, f1){(f0(f1))(eo(this.fillWith));} get AsChoiceView(){ return ez(u0032(String, this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} }
class cK extends v { name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(u0032(String, this.fillWith.View));} AddAttribute(f0, f1){(f0(f1))(ep(this.fillWith));} get AsChoiceView(){ return ez(u0032(String, this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} }
class cL extends v { name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(u0032((f0) =>(new Date(f0)).toLocaleString(), this.fillWith.View));} AddAttribute(f0, f1){(f0(f1))(eq(this.fillWith));} get AsChoiceView(){ return ez(u0032((f0) =>(new Date(f0)).toLocaleString(), this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} }
class cM extends v { name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(u0032(String, this.fillWith.View));} AddAttribute(f0, f1){(f0(f1))(er(this.fillWith));} get AsChoiceView(){ return ez(u0032(String, this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} }
class cN extends v { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} }
class cO extends v { name;fillWith;get Name(){ return this.name;} ForTextView(){ return z(u0032((f0) => b6(",", f0), this.fillWith.View));} AddAttribute(f0, f1){(f0(f1))(es(this.fillWith));} get AsChoiceView(){ return ez(u0032(String, this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} }
class cP extends o { idle;robin;Fork(f0){ this.robin.push(f0);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const f0=Date.now();let f1=true;while(f1)if(this.robin.length===0){ this.idle=true;f1=false;} else {(this.robin.shift())();Date.now()-f0>40?(setTimeout(() => { this.tick();}, 0),f1=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
function cQ(f0){ return{$:6, $0:f0};}
function cR(f0){ return{$:5, $0:f0};}
function cS(f0){ return{$:4, $0:f0};}
class cT { }
function cU(f0, f1){ return fL(f0, -2147483648, 2147483647, f1);}
function cV(f0, f1){ return{$:2, $0:f0, $1:f1};}
function cW(f0){ return{$:0, $0:f0};}
function cX(f0, f1){ return{$:3, $0:f0, $1:f1};}
function cY(f0){ let f1;const f2=f0.s;if(f2==null||(f2!=null&&f2.$==2?(f1=f2.$1,false):f2!=null&&f2.$==3?(f1=f2.$1,false):true))void 0;else { f0.s=null;for(let f4=0, f5=t(f1)-1;f4<=f5;f4++){ const f3=q(f1, f4);if(typeof f3=="object")(((f6) => { cY(f6);})(f3));else f3();} } }
let cZ=fU((f0) => class f1 { static { cZ=f0(this);} static counter;static { this.counter=0;} });
class c0 extends o { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function c1(){ throw new e6("New");}
function c2(f0){ return f0 instanceof Array?c3(f0):A(typeof f0, "string")?c4(f0):f0.GetEnumerator();}
function c3(f0){ return new c6(0, null, (f1) => { const f2=f1.s;return f2<t(f0)&&(f1.c=q(f0, f2),f1.s=f2+1,true);}, void 0);}
function c4(f0){ return new c6(0, null, (f1) => { const f2=f1.s;return f2<f0.length&&(f1.c=f0[f2],f1.s=f2+1,true);}, void 0);}
function c5(f0){ return f0 instanceof Array?c3(f0):A(typeof f0, "string")?c4(f0):"GetEnumerator0"in f0?f0.GetEnumerator0():f0.GetEnumerator();}
class c6 extends o { s;c;n;d;e;MoveNext(){ const f0=this.n(this);this.e=f0?1:2;return f0;} get Current(){ return this.e===1?this.c:this.e===0?i("Enumeration has not started. Call MoveNext."):i("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(f0, f1, f2, f3){ super();this.s=f0;this.c=f1;this.n=f2;this.d=f3;this.e=0;} }
let c7=fU((f0) => class f1 { static { c7=f0(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bF("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bF("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function c8(f0, f1){ c9(f0, f1, null);}
function c9(f0, f1, f2){ while(true){ if(f1!=null&&f1.$==1)return dc(f0, f1.$0.El, f2);else if(f1!=null&&f1.$==2){ const f3=f1.$0;f3.Dirty=false;f1=f3.Current;} else if(f1==null)return f2;else if(f1!=null&&f1.$==4)return dc(f0, f1.$0.Text, f2);else if(f1!=null&&f1.$==5)return dc(f0, f1.$0, f2);else if(f1!=null&&f1.$==6)return cz((f6, f7) =>((((f8) =>(f9) =>(f_) => f9==null||f9.constructor===Object?c9(f8, f9, f_):dc(f8, f9, f_))(f0))(f6))(f7), f1.$0.Els, f2);else { const f4=f1.$1;const f5=f1.$0;f1=f5;f2=c9(f0, f4, f2);} } }
function c_(f0, f1){ return eG(eH(), dd(f0, d7(), f1));}
function c$(f0, f1, f2){ if(dR()){ const f3=null;return M(() => { const f4=eI(f2);const f5=dh(f1, f4);const f6=dg(f1, f4);return N(dS(dT(f5, df(f1, f4))), () => N(de(f0, f1), () => N(dS(f6), () => { f1.PreviousNodes=f4;return O(null);})));});} else return de(f0, f1);}
function da(f0, f1, f2){ const f3=eI(f2);di(f0, f1.Top);f1.PreviousNodes=f3;}
function db(f0, f1){ const f2=f0.parentNode;const f3=globalThis.document.createTextNode("");f2.insertBefore(f3, f0);dl(f0, f1);return f3;}
function dc(f0, f1, f2){ dL(f0, f2, f1);return f1;}
function dd(f0, f1, f2){ c8(f0, f2);const f3=d1(f0, f1);return dr.New(f3, f2, null, f0, bc(), fV(f3.OnAfterRender));}
function de(f0, f1){ if(dY()){ const f2=(f3) => { requestAnimationFrame(() => { di(f0, f1.Top);f3();});};return S((f3, f4, f5) => f2.apply(null, [f3, f4, f5]));} else { di(f0, f1.Top);return O(null);} }
function df(f0, f1){ return dW(cA((f2) => d9(f2.Attr), eM(eL(f1, eK((f2) => d8(f2.Attr), f0.PreviousNodes)))));}
function dg(f0, f1){ return dW(cA((f2) => d$(f2.Attr), eM(eL(f0.PreviousNodes, eK((f2) => d_(f2.Attr), f1)))));}
function dh(f0, f1){ const f2=(f4) => ea(f4.Attr);const f3=(f4) => eK(f2, f4);return dW(cA((f4) => eb(f4.Attr), eM(eN(f3(f0.PreviousNodes), f3(f1)))));}
function di(f0, f1){!f0?dm(f1):void 0;dn(f1.Children);do_1(f1);}
function dj(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function dk(f0, f1){ f0.Value=f1;f0.Dirty=true;}
function dl(f0, f1){ c9(f0.parentNode, f1, f0);}
function dm(f0){ function f1(f2){ function f3(f4){ while(true){ if(f4!=null&&f4.$==0){ const f5=f4.$1;const f6=f4.$0;if(f3(f6))return true;else f4=f5;} else if(f4!=null&&f4.$==2){ const f7=f4.$0;if(f7.Dirty)return true;else f4=f7.Current;} else if(f4!=null&&f4.$==6){ const f8=f4.$0;return f8.Dirty||cw(f1, f8.Holes);} else return false;} } return f3(f2.Children);} ee(f0.El, f0.Attr);if(f1(f0))dp(f0);}
function dn(f0){ while(true){ if(f0!=null&&f0.$==1)return di(false, f0.$0);else if(f0!=null&&f0.$==2){ const f1=f0.$0;f0=f1.Current;} else if(f0==null)return null;else if(f0!=null&&f0.$==5)return null;else if(f0!=null&&f0.$==4){ const f2=f0.$0;return f2.Dirty?(f2.Text.nodeValue=f2.Value,f2.Dirty=false):null;} else if(f0!=null&&f0.$==6){ const f3=f0.$0;cy((f6) => { di(false, f6);}, f3.Holes);cy((f6) => { ee(f6[0], f6[1]);}, f3.Attrs);return do_1(f3);} else { const f4=f0.$1;const f5=f0.$0;dn(f5);f0=f4;} } }
function do_1(f0){ const f1=fV(f0.Render);if(f1!=null&&f1.$==1){ f1.$0(f0.El);fT(f0, "Render", null);} }
function dp(f0){ const f1=f0.El;function f2(f6, f7){ while(true){ if(f6!=null&&f6.$==1)return f6.$0.El;else if(f6!=null&&f6.$==2){ const f8=f6.$0;if(f8.Dirty){ f8.Dirty=false;return c9(f1, f8.Current, f7);} else f6=f8.Current;} else if(f6==null)return f7;else if(f6!=null&&f6.$==4)return f6.$0.Text;else if(f6!=null&&f6.$==5)return f6.$0;else if(f6!=null&&f6.$==6){ const f9=f6.$0;if(f9.Dirty)f9.Dirty=false;return cz((ga, gb) => ga==null||ga.constructor===Object?f2(ga, gb):ga, f9.Els, f7);} else { const f_=f6.$1;const f$=f6.$0;f6=f$;f7=f2(f_, f7);} } } const f3=f0.El;fG((f6) => { dM(f3, f6);}, fF(fH(f0), fE(f0.El, fV(f0.Delimiters))));let f4=f0.Children;const f5=fV(f0.Delimiters);f2(f4, f5!=null&&f5.$==1?f5.$0[1]:null);}
class dq extends Error { ct;static New(f0){ return new this("New", f0);} static New_1(f0, f1, f2){ return new this("New_1", f0, f1, f2);} constructor(f0, f1, f2, f3){ let f4;if(f0=="New"){ f4=f1;f0="New_1";f1="The operation was canceled.";f2=null;f3=f4;} if(f0=="New_1"){ const f5=f1;const f6=f2;const f7=f3;super(f5);this.inner=f6;this.ct=f7;} } }
class dr { Attr;Children;Delimiters;El;ElKey;Render;Equals(f0){ return this.ElKey===f0.ElKey;} GetHashCode(){ return this.ElKey;} static New(f0, f1, f2, f3, f4, f5){ const f6={Attr:f0, Children:f1, El:f3, ElKey:f4};let f7=(fT(f6, "Delimiters", f2),fT(f6, "Render", f5),f6);return fY(dr, f7);} }
class ds extends by { docNode_1;updates_1;elt;rvUpdates;static TreeNode(f0, f1){ const f2=eE.Create(f1);const f3=cA((f6) => d2(f6[1]), f0.Attrs);let f4=eB(u0034(), u0039, f3);let f5=u0039(f4, f2.v);return new ds(cQ(f0), f5, q(f0.Els, 0), f2);} constructor(f0, f1, f2, f3){ super(f0, f1);this.docNode_1=f0;this.updates_1=f1;this.elt=f2;this.rvUpdates=f3;} }
function dt(f0){ let f1=null;let f2=0;const f3=f0.textContent;const f4=new RegExp(bx(), "g");while(f1=f4.exec(f3),f1!==null){ f0.parentNode.insertBefore(globalThis.document.createTextNode(dB(f3, z(f2), z(f4.lastIndex-q(f1, 0).length-1))), f0);f2=f4.lastIndex;const f5=globalThis.document.createElement("span");f5.setAttribute("ws-replace", q(f1, 1).toLowerCase());f0.parentNode.insertBefore(f5, f0);} f4.lastIndex=0;f0.textContent=dB(f3, z(f2), null);}
function du(f0){ console.warn("Instantiating non-loaded template", f0);}
function dv(f0, f1, f2){ const f3=f0.querySelector("[ws-replace]");return A(f3, null)?(console.warn("Filling non-existent text hole", f2),null):(f3.parentNode.replaceChild(globalThis.document.createTextNode(f1), f3),z(f3.getAttribute("ws-replace")));}
function dw(f0, f1){ const f2=(f3) => { bu(f0, "["+f3+"]", (f4) => { if(!f1.Contains(f4.getAttribute(f3)))f4.removeAttribute(f3);});};f2("ws-attr");f2("ws-onafterrender");f2("ws-var");bu(f0, "[ws-hole]", (f3) => { if(!f1.Contains(f3.getAttribute("ws-hole"))){ f3.removeAttribute("ws-hole");while(f3.hasChildNodes())f3.removeChild(f3.lastChild);} });bu(f0, "[ws-replace]", (f3) => { if(!f1.Contains(f3.getAttribute("ws-replace")))f3.parentNode.removeChild(f3);});bu(f0, "[ws-on]", (f3) => { f3.setAttribute("ws-on", b6(" ", cB((f4) => f1.Contains(q(b7(f4, [":"], 1), 1)), b7(f3.getAttribute("ws-on"), [" "], 1))));});bu(f0, "[ws-attr-holes]", (f3) => { const f4=b7(f3.getAttribute("ws-attr-holes"), [" "], 1);for(let f8=0, f9=f4.length-1;f8<=f9;f8++){ const f5=q(f4, f8);let f6=new RegExp(bx(), "g");let f7=f3.getAttribute(f5).replace(f6, (f_, f$) => f1.Contains(f$)?f_:"");f3.setAttribute(f5, f7);} });}
function dx(f0, f1){ dA(f1);const f2=f1.nodeName.toLowerCase();const f3=f0.querySelector("[ws-attr="+f2+"]");if(A(f3, null))console.warn("Filling non-existent attr hole", f2);else { f3.removeAttribute("ws-attr");for(let f5=0, f6=f1.attributes.length-1;f5<=f6;f5++){ const f4=f1.attributes.item(f5);if(f4.name=="class"&&f3.hasAttribute("class"))f3.setAttribute("class", f3.getAttribute("class")+" "+f4.nodeValue);else f3.setAttribute(f4.name, f4.nodeValue);} } }
function dy(f0, f1){ const f2=(f3) => { bu(f0, "["+f3+"]", (f4) => { let f5;const f6=(f5=null,[f1.TryGetValue(f4.getAttribute(f3).toLowerCase(), {get:() => f5, set:(f7) => { f5=f7;}}), f5]);if(f6[0])f4.setAttribute(f3, f6[1]);});};f2("ws-hole");f2("ws-replace");f2("ws-attr");f2("ws-onafterrender");f2("ws-var");bu(f0, "[ws-on]", (f3) => { f3.setAttribute("ws-on", b6(" ", cA((f4) => { let f5;const f6=b7(f4, [":"], 1);const f7=(f5=null,[f1.TryGetValue(q(f6, 1), {get:() => f5, set:(f8) => { f5=f8;}}), f5]);return f7[0]?q(f6, 0)+":"+f7[1]:f4;}, b7(f3.getAttribute("ws-on"), [" "], 1))));});bu(f0, "[ws-attr-holes]", (f3) => { const f4=b7(f3.getAttribute("ws-attr-holes"), [" "], 1);for(let f5=0, f6=f4.length-1;f5<=f6;f5++)((() => { const f7=q(f4, f5);return f3.setAttribute(f7, cg((f8, f9) => { const f_=j(f9);return f8.replace(new RegExp("\\${"+f_[0]+"}", "ig"), "${"+f_[1]+"}");}, f3.getAttribute(f7), f1));})());});}
function dz(f0, f1, f2){ while(true){ if(f0.hasChildNodes())f2=f1.insertBefore(f0.lastChild, f2);else return null;} }
function dA(f0){ const f1=f0.attributes;const f2=[];const f3=[];const f4=[];for(let f9=0, f_=f1.length-1;f9<=f_;f9++){ const f5=f1.item(f9);if(b8(f5.nodeName, "ws-on")&&f5.nodeName!="ws-onafterrender"&&f5.nodeName!="ws-on"){ f2.push(f5.nodeName);f3.push(dB(f5.nodeName, z("ws-on".length), null)+":"+f5.nodeValue.toLowerCase());} else if(!b8(f5.nodeName, "ws-")&&(new RegExp(bx())).test(f5.nodeValue)){ let f6=new RegExp(bx(), "g");let f7=f5.nodeValue.replace(f6, (f$, ga) =>"${"+ga.toLowerCase()+"}");f5.nodeValue=f7;f4.push(f5.nodeName);} else void 0;} if(!(f3.length==0))f0.setAttribute("ws-on", b6(" ", f3));if(!(f4.length==0))f0.setAttribute("ws-attr-holes", b6(" ", f4));const f8=(f$) => { const ga=f0.getAttribute(f$);if(ga==null){ } else f0.setAttribute(f$, ga.toLowerCase());};f8("ws-hole");f8("ws-replace");f8("ws-attr");f8("ws-onafterrender");f8("ws-var");cy((f$) => { f0.removeAttribute(f$);}, f2);}
function dB(f0, f1, f2){ if(f1==null){ if(f2!=null&&f2.$==1){ const f3=f2.$0;return f3<0?"":f0.slice(0, f3+1);} else return"";} else if(f2==null)return f0.slice(f1.$0);else { const f4=f2.$0;return f4<0?"":f0.slice(f1.$0, f4+1);} }
function dC(f0){ const f1=globalThis.document.createElement("div");if(!dE().test(f0)){ f1.appendChild(globalThis.document.createTextNode(f0));return f1;} else { const f2=dI().exec(f0);const f3=A(f2, null)?"":q(f2, 1).toLowerCase();const f4=(dF())[f3];const f5=f4?f4:dG();f1.innerHTML=f5[1]+f0.replace(dH(), "<$1></$2>")+f5[2];function f6(f7, f8){ while(true){ if(f8===0)return f7;else { const f9=f8;f7=f7.lastChild;f8=f9-1;} } } return f6(f1, f5[0]);} }
function dD(f0){ const f1=[];for(let f2=0, f3=f0.childNodes.length-1;f2<=f3;f2++)f1.push(f0.childNodes[f2]);return f1;}
function dE(){ return eZ.rhtml;}
function dF(){ return eZ.wrapMap;}
function dG(){ return eZ.defaultWrap;}
function dH(){ return eZ.rxhtmlTag;}
function dI(){ return eZ.rtagName;}
function dJ(f0, f1, f2){ const f3=f0.querySelectorAll(f1);for(let f4=0, f5=f3.length-1;f4<=f5;f4++)f2(f3[f4]);}
function dK(f0, f1){ const f2=globalThis.document.querySelectorAll(f0);for(let f3=0, f4=f2.length-1;f3<=f4;f3++)f1(f2[f3]);}
function dL(f0, f1, f2){ let f3;if(f2.parentNode===f0){ const f4=f2.nextSibling;let f5=A(f4, null)?null:f4;f3=f1===f5;} else f3=false;if(!f3)f0.insertBefore(f2, f1);}
function dM(f0, f1){ if(f1.parentNode===f0)f0.removeChild(f1);}
function dN(){ return i("The input sequence has an insufficient number of elements.");}
function dO(f0, f1){ let f2=true;let f3=0;while(f2&&f3<t(f1))if(A(f1[f3], f0))f2=false;else f3=f3+1;return!f2;}
function dP(){ return i("The input must be non-negative.");}
class dQ extends o { d;GetEnumerator(){ return c2(ci((f0) => f0.K, this.d));} constructor(f0){ super();this.d=f0;} }
function dR(){ return eO();}
function dS(f0){ const f1=null;return M(() => N(dU(() => { }, eP(f0)), () => { eQ(f0);return O(null);}));}
function dT(f0, f1){ return dV(e1(f0.$0, f1.$0));}
function dU(f0, f1){ const f2=f1.Duration;if(f2===0)return Q();else { const f3=(f4) => { function f5(f6){ return(f7) => { const f8=f7-f6;f1.Compute(f8);f0();return f8<=f2?void requestAnimationFrame((f9) => {(f5(f6))(f9);}):f4();};} requestAnimationFrame((f6) => {(f5(f6))(f6);});};return S((f4, f5, f6) => f3.apply(null, [f4, f5, f6]));} }
function dV(f0){ return{$:0, $0:f0};}
function dW(f0){ return dV(e3(ci(eS, f0)));}
function dX(){ return dV(e4());}
function dY(){ return eW.BatchUpdatesEnabled;}
function dZ(f0){ const f1=[0];function f2(){ const f3=null;return M(() => N(f0, () => { const f4=f1[0];return A(f4, 1)?(f1[0]=0,Q()):A(f4, 2)?(f1[0]=1,f2()):Q();}));} return() => { const f3=f1[0];if(A(f3, 0)){ f1[0]=1;Y(f2(), null);} else A(f3, 1)?f1[0]=2:void 0;};}
function d0(f0, f1, f2, f3){ const f4={DynElem:f0, DynFlags:f1, DynNodes:f2};fT(f4, "OnAfterRender", f3);return f4;}
function d1(f0, f1){ const f2=[];const f3=[];function f4(f7){ while(true){ if(!(f7===null)){ if(f7!=null&&f7.$==1)return f2.push(f7.$0);else if(f7!=null&&f7.$==2){ const f8=f7.$1;const f9=f7.$0;f4(f9);f7=f8;} else return f7!=null&&f7.$==3?f7.$0(f0):f7!=null&&f7.$==4?f3.push(f7.$0):null;} else return null;} } f4(f1);const f5=f2.slice(0);let f6=d0(f0, d4(f1), f5, f3.length===0?null:z((f7) => { ch((f8) => { f8(f7);}, f3);}));return f6;}
function d2(f0){ return eC((f1) => f1.NChanged, u0034(), u0039, f0.DynNodes);}
function d3(f0){ return d0(f0, 0, [], null);}
function d4(f0){ return f0!==null&&f0.hasOwnProperty("flags")?f0.flags:0;}
function d5(f0){ return ew.A3(f0);}
function d6(f0, f1){ return ew.A1(new e5(f0, f1));}
function d7(){ return e7.EmptyAttr;}
function d8(f0){ const f1=2;return(f0.DynFlags&f1)===f1;}
function d9(f0){ return ed(f0, (f1, f2) => f1.NGetExitAnim(f2));}
function d_(f0){ const f1=1;return(f0.DynFlags&f1)===f1;}
function d$(f0){ return ed(f0, (f1, f2) => f1.NGetEnterAnim(f2));}
function ea(f0){ const f1=4;return(f0.DynFlags&f1)===f1;}
function eb(f0){ return ed(f0, (f1, f2) => f1.NGetChangeAnim(f2));}
function ec(f0, f1){ if(f0===null)return f1;else if(f1===null)return f0;else { const f2=ew.A2(f0, f1);ef(f2, d4(f0)|d4(f1));return f2;} }
function ed(f0, f1){ return dW(cA((f2) => f1(f2, f0.DynElem), f0.DynNodes));}
function ee(f0, f1){ cy((f2) => { f2.NSync(f0);}, f1.DynNodes);}
function ef(f0, f1){ f0.flags=f1;}
class eg extends v { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class eh extends v { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return ey(this.fillWith);} }
class ei extends v { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ej extends v { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function ek(f0, f1){ return d5((f2) => { f2.addEventListener(f0, (f3) =>(f1(f2))(f3), false);});}
function el(f0){ return ew.A4(f0);}
function em(f0, f1){ return d6(f1, (f2) =>(f3) => f2.setAttribute(f0, f3));}
function en(f0){ return et(fw(), f0);}
function eo(f0){ return et(fx(), f0);}
function ep(f0){ return et(fy(), f0);}
function eq(f0){ return et(fz(), f0);}
function er(f0){ return et(fA(), f0);}
function es(f0){ return et(fB(), f0);}
function et(f0, f1){ const f2=f0(f1);return ew.Append(d5(f2[0]), eu(f2[1], f2[2]));}
function eu(f0, f1){ return d6(f1, f0);}
class ev extends v { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ew { static Handler(f0, f1){ return ew.HandlerImpl(f0, f1);} static Concat(f0){ const f1=eD(f0);return eB(d7(), ew.Append, f1);} static Create(f0, f1){ return d5((f2) => { f2.setAttribute(f0, f1);});} static HandlerImpl(f0, f1){ return d5((f2) => { f2.addEventListener(f0, (f3) =>(f1(f2))(f3), false);});} static Append(f0, f1){ return ec(f0, f1);} static A4(f0){ return fY(ew, {$:4, $0:f0});} static A3(f0){ return fY(ew, {$:3, $0:f0});} static A1(f0){ return fY(ew, {$:1, $0:f0});} static A2(f0, f1){ return fY(ew, {$:2, $0:f0, $1:f1});} }
class ex extends v { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function ey(f0){ return{$:0, $0:f0};}
function ez(f0){ return{$:1, $0:f0};}
class eA { static Cons(f0, f1){ return fY(eA, {$:1, $0:f0, $1:f1});} static Empty=fY(eA, {$:0});GetEnumerator(){ return new c6(this, null, (f0) => { const f1=f0.s;return f1.$==0?false:(f0.c=f1.$0,f0.s=f1.$1,true);}, void 0);} }
function eB(f0, f1, f2){ const f3=t(f2);function f4(f5){ return(f6) => { let f7;switch(f6<=0?0:f6===1?f5>=0&&f5<f3?1:(f7=f6,2):(f7=f6,2)){ case 0:return f0;case 1:return q(f2, f5);case 2:const f8=f6/2>>0;return f1((f4(f5))(f8), (f4(f5+f8))(f6-f8));} };} return(f4(0))(f3);}
function eC(f0, f1, f2, f3){ const f4=t(f3);function f5(f6){ return(f7) => { let f8;switch(f7<=0?0:f7===1?f6>=0&&f6<f4?1:(f8=f7,2):(f8=f7,2)){ case 0:return f1;case 1:return f0(q(f3, f6));case 2:const f9=f7/2>>0;return f2((f5(f6))(f9), (f5(f6+f9))(f7-f9));} };} return(f5(0))(f4);}
function eD(f0){ if(f0 instanceof Array)return f0;else if(f0 instanceof eA)return cE(f0);else if(f0===null)return[];else { const f1=[];const f2=c2(f0);try { while(f2.MoveNext())f1.push(f2.Current);return f1;} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} } }
class eE { c;s;v;static Create(f0){ let f1;f1=null;f1=eE.New(f0, null, () => { let f2;f2=f1.s;return f2===null?(f2=bU(f1.c()),f1.s=f2,bJ(f2, () => { f1.s=null;}),f2):f2;});return f1;} static New(f0, f1, f2){ return fY(eE, {c:f0, s:f1, v:f2});} }
class eF extends o { d;GetEnumerator(){ return c2(ci((f0) => f0.V, this.d));} constructor(f0){ super();this.d=f0;} }
function eG(f0, f1){ return{PreviousNodes:f0, Top:f1};}
function eH(){ return eJ(new cd("New_3"));}
function eI(f0){ const f1=[];function f2(f5, f6){ while(true)switch(f5){ case 0:if(f6!=null&&f6.$==0){ const f7=f6.$1;const f8=f6.$0;f2(0, f8);f6=f7;} else if(f6!=null&&f6.$==1){ const f9=f6.$0;f6=f9;f5=1;} else if(f6!=null&&f6.$==2){ const f_=f6.$0;f6=f_.Current;} else if(f6!=null&&f6.$==6){ const f$=f6.$0.Holes;return(((ga) =>(gb) => { cy(ga, gb);})(f4))(f$);} else return null;break;case 1:f1.push(f6);f6=f6.Children;f5=0;break;} } function f3(f5){ return f2(0, f5);} function f4(f5){ return f2(1, f5);} f3(f0);return eJ(new cd("New_2", f1));}
function eJ(f0){ return{$:0, $0:f0};}
function eK(f0, f1){ return eJ(e9(f0, f1.$0));}
function eL(f0, f1){ return eJ(e_(f0.$0, f1.$0));}
function eM(f0){ return e$(f0.$0);}
function eN(f0, f1){ return eJ(fa(f0.$0, f1.$0));}
function eO(){ return e0.UseAnimations;}
function eP(f0){ return eR(ct((f1) => f1.$==1?z(f1.$0):null, e2(f0.$0)));}
function eQ(f0){ cy((f1) => { if(f1.$==0)f1.$0();}, e2(f0.$0));}
function eR(f0){ const f1=eD(f0);const f2=t(f1);if(f2===0)return eT();else if(f2===1)return q(f1, 0);else { const f3=cl(ci((f5) => f5.Duration, f1));const f4=cA((f5) => eV(f3, f5), f1);return eU(f3, (f5) => { cy((f6) => { f6.Compute(f5);}, f4);});} }
function eS(f0){ return f0.$0;}
function eT(f0){ return eU(0, () => f0);}
function eU(f0, f1){ return{Compute:f1, Duration:f0};}
function eV(f0, f1){ const f2=f1.Compute;const f3=f1.Duration;const f4=fM(() => f1.Compute(f1.Duration));return{Compute:(f5) => f5>=f3?f4.f():f2(f5), Duration:f0};}
let eW=fU((f0) => class f1 { static { eW=f0(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eX(f0){ let f1=[];let f2;for(var f3 in f0)f1.push.apply(f1, f0[f3]);return f1;}
function eY(f0){ f0.splice(0, t(f0));}
let eZ=fU((f0) => class f1 { static { eZ=f0(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const f2=[1, "<table>", "</table>"];let f3=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", f2], ["tbody", f2], ["tfoot", f2], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=f3;this.defaultWrap=[0, "", ""];} });
let e0=fU((f0) => class f1 { static { e0=f0(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e8.Custom((f2) => { const f3=f2*f2;return 3*f3-2*(f3*f2);});this.UseAnimations=true;} });
function e1(f0, f1){ return f0.$==0?f1:f1.$==0?f0:{$:2, $0:f0, $1:f1};}
function e2(f0){ const f1=[];function f2(f3){ while(true){ if(f3.$==1)return f1.push(f3.$0);else if(f3.$==2){ const f4=f3.$1;const f5=f3.$0;f2(f5);f3=f4;} else return f3.$==3?cy((f6) => { f1.push(f6);}, f3.$0):null;} } f2(f0);return f1.slice(0);}
function e3(f0){ const f1=eD(f0);return eB(e4(), e1, f1);}
function e4(){ return fP.Empty;}
class e5 extends o { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(f0){ return dX();} NGetEnterAnim(f0){ return dX();} NGetChangeAnim(f0){ return dX();} NSync(f0){ if(this.dirty){(this.push(f0))(this.value);this.dirty=false;} } constructor(f0, f1){ super();this.push=f1;this.value=void 0;this.dirty=false;this.updates=u0032((f2) => { this.value=f2;this.dirty=true;}, f0);} }
class e6 extends Error { static New(){ return new this("New");} static New_1(f0){ return new this("New_1", f0);} constructor(f0, f1){ if(f0=="New"){ f0="New_1";f1="The given key was not present in the dictionary.";} if(f0=="New_1"){ const f2=f1;super(f2);} } }
let e7=fU((f0) => class f1 { static { e7=f0(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gg) =>[(gh) => { gh.addEventListener("change", () => gg.Get()!=gh.checked?gg.Set(gh.checked):null);}, (gh) =>(gi) => gi!=null&&gi.$==1?void(gh.checked=gi.$0):null, u0032(z, gg.View)];this.StringSet=(gg) =>(gh) => { gg.value=gh;};this.StringGet=(gg) => z(gg.value);const f2=fg();const f3=ff();this.StringApply=(gg) => fe(f2, f3, gg);this.StringListSet=(gg) =>(gh) => { const gi=gg.options;for(let gj=0, gk=gi.length-1;gj<=gk;gj++)((() => { const gl=gi.item(gj);gl.selected=dO(gl.value, gh);})());};this.StringListGet=(gg) => { const gh=gg.selectedOptions;return z(cC(cj(() => ck((gi) =>[gh.item(gi).value], k(0, gh.length-1)))));};const f4=fi();const f5=fh();this.StringListApply=(gg) => fe(f4, f5, gg);this.DateTimeSetUnchecked=(gg) =>(gh) => { gg.value=(new Date(gh)).toLocaleString();};this.DateTimeGetUnchecked=(gg) => { let gh;let gi;const gj=gg.value;if(fC(gj))return z(-8640000000000000);else { gh=0;const gk=fK(gj);let gl=gk!=null&&gk.$==1&&(gh=gk.$0,true);gi=[gl, gh];return gi[0]?z(gi[1]):null;} };const f6=fk();const f7=fj();this.DateTimeApplyUnchecked=(gg) => fe(f6, f7, gg);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gg) => { const gh=gg.files;return z(cC(cj(() => ci((gi) => gh.item(gi), k(0, gh.length-1)))));};const f8=fn();const f9=fm();this.FileApplyUnchecked=(gg) => fl(f8, f9, gg);this.IntSetUnchecked=(gg) =>(gh) => { gg.value=String(gh);};this.IntGetUnchecked=(gg) => { const gh=gg.value;if(fC(gh))return z(0);else { const gi=+gh;return gi!==gi>>0?null:z(gi);} };const f_=fp();const f$=fo();this.IntApplyUnchecked=(gg) => fe(f_, f$, gg);this.IntSetChecked=(gg) =>(gh) => { const gi=gh.Input;return gg.value!=gi?void(gg.value=gi):null;};this.IntGetChecked=(gg) => { let gh;let gi;const gj=gg.value;if(fC(gj))gh=(gg.checkValidity?gg.checkValidity():true)?fD.Blank(gj):fD.Invalid(gj);else { const gk=(gi=0,[cU(gj, {get:() => gi, set:(gl) => { gi=gl;}}), gi]);gh=gk[0]?fD.Valid(gk[1], gj):fD.Invalid(gj);} return z(gh);};const ga=fr();const gb=fq();this.IntApplyChecked=(gg) => fe(ga, gb, gg);this.FloatSetUnchecked=(gg) =>(gh) => { gg.value=String(gh);};this.FloatGetUnchecked=(gg) => { const gh=gg.value;if(fC(gh))return z(0);else { const gi=+gh;return isNaN(gi)?null:z(gi);} };const gc=ft();const gd=fs();this.FloatApplyUnchecked=(gg) => fe(gc, gd, gg);this.FloatSetChecked=(gg) =>(gh) => { const gi=gh.Input;return gg.value!=gi?void(gg.value=gi):null;};this.FloatGetChecked=(gg) => { let gh;const gi=gg.value;if(fC(gi))gh=(gg.checkValidity?gg.checkValidity():true)?fD.Blank(gi):fD.Invalid(gi);else { const gj=+gi;gh=isNaN(gj)?fD.Invalid(gi):fD.Valid(gj, gi);} return z(gh);};const ge=fv();const gf=fu();this.FloatApplyChecked=(gg) => fe(ge, gf, gg);} });
class e8 extends o { transformTime;static Custom(f0){ return new e8(f0);} constructor(f0){ super();this.transformTime=f0;} }
function e9(f0, f1){ return new cd("New_2", cB(f0, e$(f1)));}
function e_(f0, f1){ const f2=new cd("New_2", e$(f1));f2.ExceptWith(e$(f0));return f2;}
function e$(f0){ const f1=cG(f0.Count, void 0);f0.CopyTo(f1, 0);return f1;}
function fa(f0, f1){ const f2=new cd("New_2", e$(f0));f2.IntersectWith(e$(f1));return f2;}
function fb(f0){ return f0.$==1?f0.$0:fd();}
function fc(f0){ return f0.$==1?f0.$1:fd();}
function fd(){ return i("The input list was empty.");}
function fe(f0, f1, f2){ let f3;f3=null;return[(f4) => { const f5=() => { f2.UpdateMaybe((f6) => { let f7;f3=f0(f4);return f3!=null&&f3.$==1&&(!A(f3.$0, f6)&&(f7=[f3, f3.$0],true))?f7[0]:null;});};f4.addEventListener("change", f5);f4.addEventListener("input", f5);f4.addEventListener("keypress", f5);}, (f4) => { const f5=f1(f4);return(f6) => f6==null?null:f5(f6.$0);}, u0032((f4) => { let f5;return f3!=null&&f3.$==1&&(A(f3.$0, f4)&&(f5=f3.$0,true))?null:z(f4);}, f2.View)];}
function ff(){ return e7.StringSet;}
function fg(){ return e7.StringGet;}
function fh(){ return e7.StringListSet;}
function fi(){ return e7.StringListGet;}
function fj(){ return e7.DateTimeSetUnchecked;}
function fk(){ return e7.DateTimeGetUnchecked;}
function fl(f0, f1, f2){ let f3;f3=null;return[(f4) => { f4.addEventListener("change", () => { f2.UpdateMaybe((f5) => { let f6;f3=f0(f4);return f3!=null&&f3.$==1&&(f3.$0!==f5&&(f6=[f3, f3.$0],true))?f6[0]:null;});});}, (f4) => { const f5=f1(f4);return(f6) => f6==null?null:f5(f6.$0);}, u0032((f4) => { let f5;return f3!=null&&f3.$==1&&(A(f3.$0, f4)&&(f5=f3.$0,true))?null:z(f4);}, f2.View)];}
function fm(){ return e7.FileSetUnchecked;}
function fn(){ return e7.FileGetUnchecked;}
function fo(){ return e7.IntSetUnchecked;}
function fp(){ return e7.IntGetUnchecked;}
function fq(){ return e7.IntSetChecked;}
function fr(){ return e7.IntGetChecked;}
function fs(){ return e7.FloatSetUnchecked;}
function ft(){ return e7.FloatGetUnchecked;}
function fu(){ return e7.FloatSetChecked;}
function fv(){ return e7.FloatGetChecked;}
function fw(){ return e7.StringApply;}
function fx(){ return e7.FloatApplyUnchecked;}
function fy(){ return e7.BoolCheckedApply;}
function fz(){ return e7.DateTimeApplyUnchecked;}
function fA(){ return e7.FileApplyUnchecked;}
function fB(){ return e7.StringListApply;}
function fC(f0){ return ca(fJ, f0);}
class fD { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(f0){ return fY(fD, {$:2, $0:f0});} static Invalid(f0){ return fY(fD, {$:1, $0:f0});} static Valid(f0, f1){ return fY(fD, {$:0, $0:f0, $1:f1});} }
function fE(f0, f1){ let f2;if(f1!=null&&f1.$==1){ const f3=[];f2=f1.$0[0].nextSibling;while(f2!==f1.$0[1]){ f3.push(f2);f2=f2.nextSibling;} return fI(f3);} else { let f4=f0.childNodes.length;const f5=f0.childNodes;let f6=cH(f4, (f7) => f5[f7]);return fI(f6);} }
function fF(f0, f1){ const f2=f0.$0;return fI(cB((f3) => cF((f4) =>!(f3===f4), f2), f1.$0));}
function fG(f0, f1){ cy(f0, f1.$0);}
function fH(f0){ const f1=[];function f2(f3){ while(true){ if(f3!=null&&f3.$==2){ const f4=f3.$0;f3=f4.Current;} else if(f3!=null&&f3.$==1)return f1.push(f3.$0.El);else if(f3==null)return null;else if(f3!=null&&f3.$==5)return f1.push(f3.$0);else if(f3!=null&&f3.$==4)return f1.push(f3.$0.Text);else if(f3!=null&&f3.$==6){ const f5=f3.$0.Els;return(((f8) =>(f9) => { cy(f8, f9);})((f8) => { if(f8==null||f8.constructor===Object)f2(f8);else f1.push(f8);}))(f5);} else { const f6=f3.$1;const f7=f3.$0;f2(f7);f3=f6;} } } f2(f0.Children);return fI(eD(f1));}
function fI(f0){ return{$:0, $0:f0};}
function fJ(f0){ return f0.match(new RegExp("\\s"))!==null;}
function fK(f0){ const f1=Date.parse(f0);return isNaN(f1)?null:z(f1);}
function fL(f0, f1, f2, f3){ const f4=+f0;const f5=f4===f4-f4%1&&f4>=f1&&f4<=f2;if(f5)f3.set(f4);return f5;}
function fM(f0){ return fQ(false, f0, fN);}
function fN(){ const f0=this.v();this.c=true;this.v=f0;this.f=fO;return f0;}
function fO(){ return this.v;}
let fP=fU((f0) => class f1 { static { fP=f0(this);} static Empty;static { this.Empty={$:0};} });
function fQ(f0, f1, f2){ return{c:f0, v:f1, f:f2};}
fZ(() => { b();});
fR();

